{\rtf1\ansi\ansicpg1252\cocoartf1561\cocoasubrtf610
{\fonttbl\f0\fswiss\fcharset0 Helvetica;\f1\fmodern\fcharset0 Courier;\f2\fnil\fcharset0 Menlo-Regular;
\f3\froman\fcharset0 Times-Roman;}
{\colortbl;\red255\green255\blue255;\red0\green0\blue0;}
{\*\expandedcolortbl;;\cssrgb\c0\c0\c0;}
\margl1440\margr1440\vieww12140\viewh16580\viewkind0
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f0\fs24 \cf0 ANNOTATED DISASSEMBLY OF JOT\
=============================\
\
\\ main turnkey entry point for JOT system\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
: JOT \
RESCUE? \
0 TEXT-SAFE ! \
EMPTY-BUFFERS \
LOAD-TEXT 		\\ retrieve document from disk\
TEXT-TOP \
CACOPH 			\\ play all sounds (cacophony)\
1 \uc0\u32 \u769 MODE ! \
0 LEVEL ! \
ACTIVE \
?STACK \
?KEY 0= 0BRANCH 0014 \
  START-ECHO \
  ?KEY 0= 0BRANCH 0008\
    ECHO BRANCH FFF4 \
    END-ECHO \
KEY DUP LIT 0060 < 0BRANCH 000E \
  DUP KEYT @ EXECUTE BRANCH FFCC \
HOME (.") 07  ASCII " . (.") 10 FROM KEYBOARD!? " \
0 EXIT-KEY \
;S\
\
\\ handle recovery from abort\
806D : RESCUE? \
TEXT-SAFE @ 0= 0BRANCH 0095 \
HOME (.") 44 JOT WAS ABORTED BEFORE CHANGES COULD BE SAVED.  DO YOU WANT TO SAVE?" \
KEY CR LIT 0059 = 0BRANCH 0036 \
(.") 27 INSERT THE JOT TEXT DISK YOU WERE USING" \
CR &HIT RESCUE BRANCH 0004 \
EMPTY-BUFFERS 1 TEXT-SAFE ! \
;S\
\
\\ handle forced capitalization\
8017 : CAPS-MODE-KEY \
\uc0\u32 \u769 SCREMIT @ \
2+ SDUP LITW 63A8 = EH? 0BRANCH 000A \
LITW 63BC BRANCH 001C \
LITW 63BC = EH? 0BRANCH 000A \
LITW 0EEE BRANCH 0008 2DROP LITW 63A8 CF\
A \uc0\u32 \u769 SCREMIT ! DROP DEPART TEXT-TOP ;S\
\
\\ initialize a disk\
7F9C : NEW-DISK \
Y/NQUERY FREE-ALL \
CR (.") 20 IS THIS A 2-DRIVE SYSTEM? (Y/N):" \
KEY DUP EMIT CR LIT 0059 = DUP 0= 0BRANCH 001F \
(.") 18 REMOVE THE CURRENT DISK "\
&HIT B/DSK * DUP BLK1 0 ROT COPY-SOME MAKE-DISK \
;S\
\
7F66 : MAKE-DISK \
END-MARK DUP >TOP >BOT DUP 0BRANCH 0012 \
TOP \uc0\u32 \u769 TOS-BLK C@ >#2 BOT\
TOM \uc0\u32 \u769 TOS-BLK C@ >#2 \
INDX + WRITE-INDEX FLUSH \
;S\
\
7F4A : COPY-DISK \
Y/NQUERY \
CR 0 B/DSK B/DSK \
COPY-SOME \
;S\
\
7ED3 : COPY-SOME \
DUP FMT ROT ROT DUP 0BRANCH 0011 \
CR (.") 0A COPYING..." \
B/DSK ROT (DO) I #BUFS + B/DSK MIN \
I (DO) I OVER > 0BRANCH 000A \
I BUFFER BRANCH 0006 \
I BLOCK DROP OVER 0BRANCH 000A \
I >#2 BRANCH 0004 UPDATE (LOOP) FFD6 \
FLUSH #BUFS (+LOOP) FFC0 \
2DROP\
;S\
\
7EBF : >#2 \
DUP #2 SWAP REASSIGN UPDATE \
;S\
\
7E45 : FMT \
(.") 14 PUT A DISK IN DRIVE "\
DUP B/DSK / 1+ . \
&HIT EMPTY-BUFFERS \
(.") 0F INITIALIZING..." \
&DRV DROP 1 LIT B7EB C! \
LIT 0004 LIT B7F4 C! \
&RWTS 0BRANCH 001F \
LIT 0007 EMIT \
CR (.") 10 FORMATTING ERROR" \
QUIT \
;S\
\
7E22 : &HIT \
(.") 0F AND HIT ANY KEY" \
KEY DROP CR \
;S\
\
7E16 : SET \
! \
;S\
\
7DF1 : END-ECHO \
BLACK-CURS CURS-TYPE WORD-LEN ! \
CAP ! PUNKED ! WORD1 ! CHV! \
;S\
\
7DDE : ECHO \
BLINK \uc0\u32 \u769 ECHO @ EXECUTE \
;S\
\
7DA4 : BLINK \
BLINK-COUNTER @ 1+ BLINK-PERIOD MOD DUP BLINK-COUNTER ! \
-DUP 0BRANCH 0012 \
WHITE-PERIOD = 0BRANCH 0006 \
BLACK-CURS CURS-TYPE BRANCH 000A \
INVERSE WHITE-CURS CURS-TYPE INVERSE \
;S\
\
7D45 : START-ECHO \
LIT 000B 0 (DO) LF (LOOP) FFFC \
LIT 000B 0 (DO) UP (LOOP) FFFC\
CURS-PREP \
WORD1 @ PUNKED @ CAP @ WORD-LEN @ 0 WORD-LEN ! \
LITW 7C93 CFA \uc0\u32 \u769 ECHO ! \
BOTTOM SIZE ECHO-PTR ! \
LIT FFFF BLINK-COUNTER ! \
;S\
\
7CE1 : CURS-PREP \
TWEEN CURS-SIZE DUP WHITE-CURS C! \
BLACK-CURS C! \
TWEEN 0BRANCH 0022 \
TOP>* DUP END-MARK < 0BRANCH 0004 \
ARRIVE? CH @ SWAP *>TOP CH @ BL BRANCH 000E \
CH @ -> DUP LIT 003C DUP WHITE-CURS 1+ C! \
BLACK-CURS 1+ C! \
SWAP CURS-CHV ! \
;S\
\
7CD2 : <- \
LIT FC10 CALL \
;S\
\
7CC3 : -> \
LIT FBF4 CALL \
;S\
\
7C89 : PAINT \
ECHO-PTR @ -DUP 0BRANCH 001A \
1 - BOTTOM PEEK \
POUR \
DROP LIT FFFF ECHO-PTR +! BRANCH 000C \
LITW 7C71 CFA \uc0\u32 \u769 ECHO ! ECHO-DONE? \
;S\
\
7C67 : CLEAN \
SPACE \
LIT 0027 CH C@ - LIT 0013 MIN \
SPACES ECHO-DONE? \
;S\
\
7C30 : ECHO-DONE? \
CH @ LIT 1627 > 0BRANCH 001A \
BL LIT 0080 + CURS-ADR C! \
TELL-FREE \
LITW 7BDE CFA \uc0\u32 \u769 ECHO ! \
;S\
\
\\ bottom of screen shows memory calculation of free disk space\
7BEC : TELL-FREE \
LIT 0017 BCALC \
LIT 0028 BL LIT 0080 + FILL \
LIT 0017 LIT 0014 VHTAB \
FREE-BLOCKS @ LIT 0004 - . \
(.") 07 K FREE." \
;S\
\
7BD5 : IDLE \
LIT 0078 0 (DO) (LOOP) FFFE \
;S\
\
7BB3 : CURS-TYPE \
CH @ SWAP CURS-CHV @ CHV! \
COUNT TYPE CHV! \
;S\
\
7B9C : BLACK-CURS 13DA \\ DOES> 451E =  :" \
01 20 20 20 20 20\
\
7B85 : WHITE-CURS 13DA \\ DOES> 451E =  :"\
01 20 20 20 20 20\
\
7B76 : ECHO-PTR 0F21\
\
7B6A : \uc0\u32 \u769 ECHO 0F21\
\
7B56 : BLINK-COUNTER 0F21\
\
7B47 : ECHO-CHV 0F21\
\
7B38 : CURS-CHV 0F21\
\
7B25 : WHITE-PERIOD 0F05\
\
7B12 : BLINK-PERIOD 0F05\
\
7AFB : PLUS-KEY \
DROP LIT 002B INSCH \
;S\
\
7AE3 : CARET-KEY \
DROP LIT 005E INSCH \
;S\
\
7ACB : SLASH-KEY \
DROP LIT 002F INSCH \
;S\
\
7AB5 : PUNCSTUFF \
PUNCT (\uc0\u32 \u769 ) (STUFF) \
;S\
\
7AA0 : KEYSTUFF \
KEYT (\uc0\u32 \u769 ) (STUFF) \
;S\
\
7A8D : ]KEY \
DROP LIT 005D INSCH \
;S\
\
7A7A : [KEY \
DROP LIT 005B INSCH \
;S\
\
7A39 : PARA-DEL-KEY \
DROP DEPART MARK-> TWEEN 3 = 0BRANCH 001A \
LIT 0004 SOUND TOP >* DROP ARRIVE? \
HOVER @ -DUP 0BRANCH 0004 \
*>TOP 0 HOVER ! \
;S\
\
7A0B : PARAKEY \
DROP DEPART MARK-> TWEEN 3 = 0BRANCH 0008 \
TOP>* HOVER ! \
PARAMARK *>TOP 1 MODE ! \
;S\
\
79D5 : PRINT-KEY \
DROP DEPART TEXT-TOP SAVE-TEXT 1 TEXT-SAFE ! \
PR-START BOT> DUP >PR PR-DONE? 0BRANCH FFF6 \
LOAD-TEXT TEXT-TOP 0 TEXT-SAFE ! \
;S\
\
79A2 : PR-DONE? \
KEY? 0BRANCH 000A \
DROP 1 BRANCH 0018 \
END-MARK < 0BRANCH 0008 \
0 BRANCH 000A \
PR-FLUSH PR-CR ENDPAGE 1 \
;S\
\
7956 : >PR \
SDUP MIN-SP < EH?> 0BRANCH 0008 \
  CAPIZE? BRANCH 0030 \
SENTMARK < EH? 0BRANCH 0008 \
  BL BRANCH 0020 \
1 CAP ! PARAMARK < EH? 0BRANCH 000A \
  LIT 0013 BRANCH 0008 \
2DROP LIT 0010 PREMIT \
;S\
\
792A : EXIT-KEY \
DROP RESCUE LIT 0017 0 VHTAB \
CR (.") 08 ----- OK" \
EMPTY-BUFFERS\
QUIT \
;S\
\
7913 : RESCUE \
DEPART SAVE-TEXT 1 TEXT-SAFE ! \
;S\
\
7903 : TEXT-SAFE 0F21\
\
78BC : PREMIT \
SDUP LIT 0010 = EH? 0BRANCH 0008 \
PR-PARA BRANCH 0028 LIT 0013 = EH? 0BRANCH 0008 \
PR-SENT BRANCH 0016 BL = EH? 0BRANCH 0008 \
PR-BL BRANCH 0006 \
DROP PR-PR \
;S\
\
789A : PR-SENT \
BLOCKING @ 0BRANCH 000A \
PR-FLUSH PR-CR BRANCH 0006 \
PR-BL PR-BL \
;S\
\
786E : PR-BL \
PR-PTR C@ 0BRANCH 001A \
PR-FLUSH BL PR-EAT COL C@ \
PR-WIDTH @ < 0= 0BRANCH 0004 \
PR-CR \
;S\
\
781A : PR-PARA \
COL C@ 0BRANCH 0006 \
PR-FLUSH PR-CR PARA-SKIP @ 1+ ENDPAGE? \
DROP PR-LINE @ TOPMARG @ > 0BRANCH 0008 \
PARA-SKIP @ PR-SKIP BLOCKING @ 0= 0BRANCH 000C\
1PR INDENT @ SPACES 0PR COL C@ PR-PTR ! \
;S\
\
7794 : PR-PR \
PR-EAT PR-PTR @ PR-WIDTH @ > 0BRANCH 006C \
COL C@ PR-BUF C@ BL - 0BRANCH 0024 \
PR-WIDTH @ 2 - PR-UPTO \
1PR (.") 01 -" \
0PR COL C@ 1 - COL C! BRANCH 001A \
COL C@ 1+ DUP COL C! PR-BUF C@ \
BL - 0BRANCH FFEA \
COL C@ PR-PTR @ PR-CR \
OVER - DUP ROT \
PR-BUF 0 PR-BUF ROT CMOVE\
PR-PTR ! \
;S\
\
7744 : PR-CR \
COL C@ PR-WIDTH @ < 0= \
END-CR @ 0= AND \
DUP PR-LINE +! 0= \
SPACING @ 1 - + DUP \
ENDPAGE? 0= 0BRANCH 0008 \
PR-SKIP BRANCH 0004 \
DROP 0 COL C! \
0 PR-PTR !\
;S\
\
772B : PR-FLUSH \
PR-PTR @ 1 - PR-UPTO \
;S\
\
7710 : PR-EAT \
PR-PTR @ PR-BUF C! \
1 PR-PTR +! \
;S\
\
76E6 : PR-UPTO \
COL C@ - 1+ -DUP 0BRANCH 0010 \
1PR COL C@ PR-BUF SWAP TYPE 0PR \
;S\
\
76BD : ENDPAGE? \
PR-LINE @ + \
PAGELEN @ BOTMARG @ - > DUP 0BRANCH 0004 \
ENDPAGE \
;S\
\
7692 : PR-START \
0 PAGE# ! \
0 PR-PTR ! \
1PR \
(.") 03    " \
0PR 1 PR-SKIP NEWPAGE \
;S\
\
7674 : ENDPAGE \
ROLLPAPER @ 0BRANCH 0008 \
PAGELEN @ SKIP-TO NEWPAGE \
;S\
\
763C : NEWPAGE \
1 PAGE# +! \
1PR ROLLPAPER @ 0BRANCH 000A \
LIT 002D BRANCH 0006 \
LIT 000C EMIT \
0 PR-LINE ! \
TOPMARG @ PR-SKIP \
;S\
\
7626 : SKIP-TO \
PR-LINE @ - PR-SKIP \
;S\
\
75EA : PR-SKIP \
DUP 0 > 0BRANCH 0024 \
DUP PR-LINE +! \
1PR 0 (DO) CR LF? @ 0BRANCH 0004 \
LF (LOOP) FFF2 0PR BRANCH 0004 \
DROP \
;S\
\
\
75DC : 0PR \
0 PR \
;S\
\
75A8 : 1PR \
SLOT @ DUP \
PR -DUP 0BRANCH 0016 \
LIT 07F8 + DUP C@ LIT 0080 OR \
SWAP C! COL C@ CH C! ;S\
\
7588 : COL \
SLOT @ -DUP 0BRANCH 000C \
LIT 05F8 + BRANCH 0004 \
CH \
;S\
\
757E : LF? 0F21\
\
756E : ROLLPAPER 0F21\
\
74DC : PR-BUF 13DA \\ DOES> 4E88 = CARRAY\
\
74D0 : PAGE# 0F21\
\
74C2 : BOTMARG 0F21\
\
74C2 : BOTMARG 0F21\
\
74B4 : TOPMARG 0F21\
\
74A6 : PAGELEN 0F21\
\
7498 : PR-LINE 0F21\
\
7489 : BLOCKING 0F21\
\
747C : INDENT 0F21\
\
746C : PARA-SKIP 0F21\
\
745E : SPACING 0F21 \
\
7453 : CHSV 0F21\
\
7446 : PR-PTR 0F21\
\
7439 : END-CR 0F21\
\
742A : PR-WIDTH 0F21\
\
741F : SLOT 0F05\
\
73FF : CLR-DEL-KEY \
DROP DELETE-BUFFER EMPTY-CSTACK \
LIT 0004 3 SOUNDS \
;S\
\
73D0 : DELETE-KEY \
DROP 0 HOVER ! TWEEN 0BRANCH 000A \
MODE DELETE BRANCH 000A \
LIT 0004 SOUND \
ERAC \
;S\
\
736F : DELETE \
MARK-> BOTTOM TOS-TYPE LIT 0004 < 0BRANCH 0044 \
DUP 3 SOUNDS CUT-MARK >DEL \
BOTTOM DELETE-BUFFER ROT TYPE-SP XFER \
BOTTOM TOS-TYPE 3 < 0BRANCH 0006 \
BOT> >DEL BOTTOM \
TOS-TYPE 2 > TWEEN 3 = AND 0BRANCH 0008 \
TOP>* >DEL ARRIVE? BRANCH 0004 \
DROP \
;S\
\
7357 : SLURP-KEY \
END-WORD? 2DROP ACTIVE BLURP \
;S\
\
7319 : BLURP \
DEL>? 0BRANCH 002E \
LIT 0005 SOUND \
DUP PARAMARK < 0= 0BRANCH 0018 \
2LIT 0005 SOUNDS \
<-MARK ARRIVE? \
SP-> SPIT \
*>TOP BRANCH 0006 \
>DEL SPIT \
;S\
\
72EC : SPIT \
DELETE-BUFFER LIT 0004 + @ \
0= 0= 0BRANCH 0012 \
DELETE-BUFFER BOTTOM CUT-MARK XFER \
DEL>? 0BRANCH 0004 \
DROP \
;S\
\
72B8 : ESC-KEY \
DROP LEVEL @ 1+ LIT 0004 MOD \
DUP LEVEL ! -DUP 0BRANCH 000A \
1 SOUNDS BRANCH 0006 \
2 SOUND \
;S\
\
728F : MODE-KEY \
DROP \uc0\u32 \u769 MODE @ 3 + MODETAB @ \
DUP \uc0\u32 \u769 MODE ! ABS 0 SOUNDS \
;S\
\
7273 : MODETAB 13DA  \\ DOES> 4E11 = ARRAY\
\
7254 : LETTER \
LEVEL @ 0= 0BRANCH 0008 \
LIT 0020 + INSCH \
;S\
\
721C : INSCH \
LEVEL @ 1 = 0BRANCH 0008 \
0 LEVEL ! HOVER @ -DUP 0BRANCH 000A \
>BOT 0 HOVER ! *>TOP 1 \uc0\u32 \u769 MODE ! \
;S\
\
7200 : SENTKEY \
END-WORD? DROP 1 WASPUNKED ! \
END-SENT? DROP \
;S\
\
71DA : SPACE-BAR \
DROP INS-SP? 0= MODE 1 > OR 0BRANCH 0006 \
MODE NOISY-STEP \
;S\
\
7185 : BACK-KEY \
DROP WORDMODE TWEEN 0= 0BRANCH 0016 \
BUMPY @ *>TOP PUNKED @ WASPUNKED ! \
LIT FFFF STEP TWEEN 3 = 0BRANCH 0006 \
TOP>* >BOT TWEEN 3 < 0BRANCH 0010 \
LIT 0007 SOUND \
TOP>* BUMPY ! CHEK-WORD \
;S\
\
7173 : <-KEY \
SUPER \
MINUS \
NOISY-STEP \
;S\
\
7163 : ->KEY \
SUPER \
NOISY-STEP \
;S\
\
7163 : ->KEY \
SUPER \
NOISY-STEP \
;S\
\
7151 : SUPER \
DROP MODE 1+ \
;S\
\
7124 : NOISY-STEP \
DUP DUP 0< 0BRANCH 000C \
MINUS LIT 0007 BRANCH 0006 \
LIT 0006 SOUNDS STEP \
;S\
\
70FB : STEP \
DEPART \
0 HOVER ! \
DUP 0< 0BRANCH 000C \
MINUS UNSHIFT? BKWD BRANCH 0006 \
UNSHIFT? FWD \
;S\
\
70E0 : UNSHIFT? \
DUP 1 > 0BRANCH 0004 \
UNSHIFT \
;S\
\
70CE : FWD \
MARK-> TYPE-SP \
BOT>***>TOP SP-> \
;S\
\
70A7 : BKWD \
DUP LIT 0004 = 0BRANCH 000A \
DROP TEXT-TOP BRANCH 000A \
<-MARK TYPE-SP TOP>***>BOT ARRIVE? \
;S\
\
7080 : SP-> \
BOTTOM TOS DUP MIN-SP < 0= \
SWAP PARAMARK < AND 0BRANCH 0006 \
BOT> *>TOP ;S\
\
7053 : MARK-> \
BOTTOM TOS DUP MIN-SP < 0= \
SWAP END-MARK < AND 0BRANCH 000A \
BOT> *>TOP BRANCH FFE2 \
;S\
\
7026 : <-MARK \
TOP TOS DUP END-MARK < \
SWAP MIN-SP < 0= AND 0BRANCH 000A \
TOP>* >BOT BRANCH FFE2 \
;S\
\
6FDF : DEPART \
END-WORD? DROP \
TWEEN 3 = 0BRANCH 0018 \
BOTTOM TOS-TYPE\
LIT 0004 = 0BRANCH 0006 \
TOP>* DROP BRANCH 0012 \
BOTTOM TOS-TYPE 2 > 0BRANCH 0006 \
END-SENT? DROP CLRPUNC CLRWAS ACTIVE \
;S\
\
6FC5 : INS-SP? \
END-WORD? -DUP 0= 0BRANCH 0004 \
  END-SENT? \
;S\
\
6F93 : END-SENT? \
WASPUNKED @ \
TWEEN 1 = AND \
DUP 0BRANCH 000C \
  TOP>* DROP\
  SENTMARK\
  *>TOP ACTIVE \
0 WASPUNKED ! \
;S\
\
6F53 : END-WORD? \
TWEEN 0= DUP 0BRANCH 0028 \
PUNKED @ WASPUNKED ! \
SPACER *>TOP 0 HOVER ! \
LEVEL @ 3 < 0BRANCH 0008 \
0 LEVEL ! ACTIVE ;S\
\
6F3D : ANDIF \
COMPILE DUP IF COMPILE DROP \
;S\
\
6F28 : ORIF \
COMPILE -DUP COMPILE 0= IF \
;S\
\
6EED : ERAC \
TOP>* DROP TWEEN 3 = 0BRANCH 0020 \
CLRPUNC 1 CAP ! \
BOTTOM TOS-TYPE 3 = 0BRANCH 0008\
BOT> HOVER ! BRANCH 000\
4 CHEK-WORD ACTIVE \
;S\
\
6EC5 : CHEK-WORD \
SPACER >BOT CLRPUNC SPACER \
TOP>***>BOT TOP>* *>TOP ARRIVE? \
SPACER BOT>***>TOP BOT> DROP \
;S\
\
6EAE : ACTIVE MODE \
DROP SPACER BUMPY ! \
;S\
\
6E8F : TEXT-TOP \
HOME TOP BOTTOM END-MARK XFER \
BANNER CR AT-LEFT \
;S\
\
6E7A : WORDMODE 1 \uc0\u32 \u769 MODE ! ;S\
\
6E63 : MODE \
\uc0\u32 \u769 MODE @ ABS DUP \u32 \u769 MODE ! \
;S\
\
6E43 : UNSHIFT \
LEVEL @ 0BRANCH 000C \
  2 SOUND 0 LEVEL ! \
;S\
\
6E37 : BUMPY 0F21		\\variable $0080\
\
6E2B : HOVER 0F21		\\variable $0000\
\
6E1F : \uc0\u32 \u769 MODE 0F21		\\variable $0001\
\
6E10 : JUST-ESC 0F21	\\variable $0000\
\
6E04 : LEVEL 0F21		\\variable $0000\
\
6DAA : NOISE-KEY \
DROP MUFF @ SDUP LIT 0008 = EH? 0BRANCH 000A \
  LIT 0006 BRANCH 002A \
LIT 0006 = EH? 0BRANCH 0008 \
  2 BRANCH 0018 \
2 = EH? 0BRANCH 0008 \
  0 BRANCH 0008\
2DROP LIT 0008 \
MUFF ! \
CACOPH \
;S\
\
6D79 : CACOPH \
LIT 0008 0 (DO) \
  I SOUND I 1+ \
  MUFF @ < 0BRANCH 0008 \
    PAUSE PAUSE PAUSE \
(LOOP) FFE6 \
;S\
\
6D40 : SOUNDS \
SWAP -DUP 0BRANCH 0024 \
0 SWAP 0 (DO) \
  -DUP 0BRANCH 000C \
  0 (DO) \
    PAUSE \
  (LOOP) FFFC \
  DUP (SOUND) \
(LOOP) FFEA \
DROP DROP \
;S\
\
6D30 : SOUND (SOUND) DROP ;S\
\
6C6A : (SOUND) \
DUP MUFF @ < 0BRANCH 00AA \
0 SWAP SDUP 0 = EH? 0BRANCH 000C \
  LIT 0007 EMIT BRANCH 008C \
1 = EH? 0BRANCH 000A \
  CLUCK 1+ BRANCH 007A \
2 = EH? 0BRANCH 000A \
  CLACK 1+ BRANCH 0068 \
3 = EH? 0BRANCH 000E \
  0 2 UP- SWEEP BRANCH 0052 \
LIT 0004 = EH? 0BRANCH 0010 \
  LIT 0046 1 UP- SWEEP BRANCH 0038 \
LIT 0005 = EH? 0BRANCH 000E \
  0 2 DWN- SWEEP BRANCH 0020 \
DROP LIT 0005 LIT 0014 OSC \
LIT 0007 = 0BRANCH 0008 \
  PAUSE CLUCK 1+ 1+ BRANCH 0006 \
DROP 0 \
;S\
\
6C59 : DWN- LIT FFFF CLICKER ;S\
\
6C49 : UP- CLICKER LIT FFFF ;S\
\
6C3E : MUFF 0F21\
\
6C14 : CLUCK 1 LIT 0004 OSC LIT 003C 0 (DO) (LOOP) FFFE LIT 0005 LIT 0004 OSC ;S\
\
6BFE : CLACK LIT 000A LIT 0004 OSC/2 ;S\
\
6BE6 : PAUSE LIT 0177 0 (DO) (LOOP) FFFE ;S\
\
6BC4 : OSC/2 0 (DO) GLICK DUP 0 (DO) (LOOP) FFFE (LOOP) FFF2 DROP ;S\
\
6BA2 : OSC 0 (DO) GLICK DUP 0 GLICK (DO) (LOOP) FFFE (LOOP) FFF0 DROP ;S\
\
6B90 : GLICK 0 CLICKER C! ;S\
\
6B78 : CLICK 0 0 CLICKER C! CLICKER C! ;S\
\
6B6A : CLICKER 0F05\
\
\\ machine code for apple sound sweep\
6B09 : SWEEP 6B13\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
6B13-   A9 04       LDA   #$04\
6B15-   20 E0 08    JSR   $08E0\
6B18-   86 E0       STX   $E0\
6B1A-   A5 D1       LDA   $D1\
6B1C-   8D 56 6B    STA   $6B56\
6B1F-   A5 D2       LDA   $D2\
6B21-   8D 57 6B    STA   $6B57\
6B24-   A5 D3       LDA   $D3\
6B26-   8D 38 6B    STA   $6B38\
6B29-   A5 D4       LDA   $D4\
6B2B-   8D 39 6B    STA   $6B39\
6B2E-   A2 00       LDX   #$00\
6B30-   88          DEY\
6B31-   D0 0A       BNE   $6B3D\
6B33-   A4 D7       LDY   $D7\
6B35-   E6 D5       INC   $D5\
6B37-   AD FF FF    LDA   $FFFF\
6B3A-   4C 47 6B    JMP   $6B47\
6B3D-   A5 D1       LDA   $D1\
6B3F-   E6 D1       INC   $D1\
6B41-   AD FF FF    LDA   $FFFF\
6B44-   4C 47 6B    JMP   $6B47\
6B47-   CA          DEX\
6B48-   D0 11       BNE   $6B5B\
6B4A-   A6 D5       LDX   $D5\
6B4C-   C6 D7       DEC   $D7\
6B4E-   D0 05       BNE   $6B55\
6B50-   A6 E0       LDX   $E0\
6B52-   4C B8 08    JMP   $08B8\
6B55-   AD 30 C0    LDA   $C030\
6B58-   4C 67 6B    JMP   $6B67\
6B5B-   A5 D1       LDA   $D1\
6B5D-   C6 D1       DEC   $D1\
6B5F-   D0 00       BNE   $6B61\
6B61-   AD FF FF    LDA   $FFFF\
6B64-   4C 67 6B    JMP   $6B67\
6B67-   4C 30 6B    JMP   $6B30\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
6AF5 : BOT>***>TOP B>***>T ;S\
\
6AE5 : *>TOP POUR >TOP ;S\
\
6AC7 : ARRIVE? \
LOST @ 0BRANCH 0008 \
ARRIVE BRANCH 0004 \
SENTCAP? \
;S\
\
6A7A : ARRIVE \
CUT-MARK >BOT TWEEN LIT 0004 < 0BRANCH 0016 \
TOP>* >BOT WORD1 @ 0BRANCH FFF6 \
SPACER TOP>***>BOT BRANCH 0008 \
WORD1-BIT WORD1 ! 0 CH C! 0 LOST ! SENT\
CAP? CUT-MARK B>***>T BOT> DROP ;S\
\
6A34 : TOP>***>BOT \
DIME ! TOP S-CS ! DONE 0= 0BRANCH 0024 \
TOP \uc0\u32 \u769 TOS BOTTOM PREPUSH \
TOP #CHARS BOTTOM @ MIN \
(T>*>B) DUP TOP #CPOPPED \
BOTTOM #CPUSHED \
BRANCH FFD8 \
;S\
\
69E4 : (T>*>B) \
0 SWAP 0 (DO) \
  DROP OVER I + C@ DUP DIME @ < 0BRANCH 0016 \
  DUP UNPOUR OVER I - C! I 1+ BRANCH 0008 \
  DROP I LEAVE \
(LOOP) FFCE R\
OT ROT 2DROP \
;S\
\
69A2 : B>***>T \
DIME ! BOTTOM S-CS ! DONE 0= 0BRANCH 0024 \
BOTTOM \uc0\u32 \u769 TOS TOP PREPUSH\
BOTTOM #CHARS TOP @ MIN (B>*>T) \
DUP BOTTOM #CPOPPED TOP #CPUSHED BRANCH FFD8 \
;S\
\
6954 : (B>*>T) \
0 SWAP 0 (DO) \
  DROP OVER I + C@ DUP DIME @ < 0BRANCH 0014 POUR \
  OVER I - C! I 1+ BRANCH 0008 \
  DROP I LEAVE \
(LOOP) FFD0 \
ROT ROT 2DROP \
;S\
\
6942 : TOP>* TOP> DUP UNPOUR ;S\
\
68AD : UNPOUR \
DUP MIN-SP < 0= 0BRANCH 001A \
WORD1 @ 0BRANCH 0004 \
AT-LEFT DUP WORD 1-BIT AND WORD1 ! BRANCH 000A \
LIT FFFF WORD-LEN +! \
CH C@ OVER CH-SIZE - DUP 0< 0BRANCH 0038 \
DROP DUP END-MARK < \
0= CV C@ 0= \
UNLF LIT 0026 CH C! \
OVER 0BRANCH 0004 \
  BANNER? \
OR DUP LOST ! \
0= 0BRANCH 0004 \
  GROPE \
BRANCH 0006 \
CH C!\
PARAMARK < 0= 0BRANCH 0008 \
0 LOST ! \
;S\
\
6877 : GROPE \
CV C@ BCALC CH C@ 1 - 2DUP + C@ \
BL LIT 0080 + - 0BRANCH FFEA \
1+ CH C! \
DROP \
;S\
\
6858 : POUR \
DUP MIN-SP < 0BRANCH 000A \
DUP NON-SP-POUR BRANCH 0004 \
SP-POUR \
;S\
\
67F6 : NON-SP-POUR \
CH C@ LIT 0025 > 0BRANCH 003C \
CH C@ WORD-LEN @ - NEXT-LINE \
AT-LEFT CV C@ 1 - BCALC + DUP CURS-ADR WORD-LEN @ CMOVE \
WORD-LEN @ BL LIT 0080 +\
FILL WORD-LEN @ CH +! (>SCR) 1 WORD-LEN +! \
;S\
\
67DD : (>SCR) \
DUP CHEKCHAR CAPIZE? \
\uc0\u32 \u769 SCREMIT @ EXECUTE \
;S\
\
67CE : \uc0\u32 \u769 SCREMIT 0F21\
\
6774 : SP-POUR \
DUP DUP SENTMARK < 0= CAP ! \
DUP CH-TYPE 3 - 0BRANCH 000A \
  CH-SIZE SPACES BRANCH 0016 \
DROP CH C@ 0BRANCH 0004 \
  NEXT-LINE \
AT-LEFT LIT 0005 SPACES \
0 WORD-LEN ! \
HI-BITS AND WORD1 @ OR 0 WORD1 ! \
;S\
\
6758 : NEXT-LINE LIT 0028 CH C@ - SPACES ;S\
\
6738 : AT-LEFT WORD1-BIT WORD1 ! 0 LOST ! 0 CH C! ;S\
\
672C : WORD1 0F21		\\ variable $0000\
\
671D : WORD-LEN 0F21	\\ variable $0000\
\
6712 : LOST 0F21		\\ variable $0000\
\
66EC : BANNER? \
CV C@ 2 < 0BRANCH 000E \
  UNLF UNLF \
  0 CH C! BANNER \
;S\
\pard\pardeftab720\sl360\sa240\partightenfactor0
\cf2 \
\pard\pardeftab720\partightenfactor0
\cf2 6686 : BANNER \
(.") 50 JOT(TM) VERSION 0.53 (C) 1986 TED NELSON . . . . . . . . . ."\
LIT 0026 SPACES\
;S 
\f3\fs24 \
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \
6658 : MULTI<- \
CH C@ SWAP - DUP 0< 0BRANCH 000E \
UNLF LIT 0028 + BRANCH FFEE \
CH C! \
;S\
\
6649 : LF LIT 000A EMIT ;S\
\
662E : UNLF \
CV C@ 0BRANCH 0008 \
UP BRANCH 0004 \
SCROLLDOWN \
;S\
\
661F : UP LIT FC1A CALL ;S\
\
65D4 : SCROLLDOWN \
LIT 0017 BCALC LIT FFFF LIT 0016 (DO) \
  I BCALC DUP ROT LIT 0028 CMOVE  \
LIT FFFF (+LOOP) FFEC \
DROP 0 BCALC LIT 0028 BL \
LIT 0080 + FILL \
;S\
\
6599 : CHEKCHAR \
SDUP LIT 005D = EH? 0BRANCH 0006 \
  BRANCH 001C \
LIT 0040 < EH?> 0BRANCH 000C \
  PUNCT @ EXECUTE BRANCH 0006 \
2DROP CLRPUNC \
;S\
\
6587 : PUNCT BL - (PUNCT) ;S\
\
6573 : SETPUNC 1 PUNKED ! ;S\
\
655F : CLRPUNC 0 PUNKED ! ;S\
\
654C : CLRWAS 0 WASPUNKED ! ;S\
\
653C : WASPUNKED 0F21	\\ variable $0000\
\
652F : PUNKED 0F21		\\ variable $0000\
\
64E1 : (PUNCT) 13DA	\\ DOES> 4E11 = ARRAY\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 64E1- 87 28 50 55 4E 43 54\
64E8- A9 D6 63 DA 13 11 4E 20\
64F0- 20 7D 65 22 55 69 65 69\
64F8- 65 69 65 69 65 22 55 69\
6500- 65 22 55 69 65 69 65 69\
6508- 65 69 65 7D 65 69 65 69\
6510- 65 69 65 69 65 69 65 69\
6518- 65 69 65 69 65 69 65 69\
6520- 65 69 65 69 65 69 65 69\
6528- 65 69 65 69 65 7D 65 86\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 \
63D6 : KEYT 13DA		\\ DOES> 4E11 = ARRAY\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
63D6- 84 4B\
63D8- 45 59 D4 B0 63 DA 13 11\
63E0- 4E 61 0D 61 0D 61 0D 27\
63E8- 80 61 0D 35 79 61 0D 61\
63F0- 0D 7B 71 61 0D 48 7A 06\
63F8- 7B D7 7A 9A 72 B6 6D E1\
6400- 79 15 7A 0D 74 61 0D 0A\
6408- 72 61 0D 6B 71 61 0D 61\
6410- 0D 61 0D 61 0D 61 0D C2\
6418- 72 61 0D 61 0D 61 0D 61\
6420- 0D E6 71 24 72 24 72 24\
6428- 72 24 72 24 72 24 72 24\
6430- 72 24 72 24 72 24 72 90\
6438- 71 24 72 24 72 24 72 DD\
6440- 73 24 72 24 72 24 72 24\
6448- 72 24 72 24 72 24 72 24\
6450- 72 24 72 24 72 24 72 24\
6458- 72 81 7A 24 72 94 7A 24\
6460- 72 63 73 5D 72 5D 72 5D\
6468- 72 5D 72 5D 72 5D 72 5D\
6470- 72 5D 72 5D 72 5D 72 5D\
6478- 72 5D 72 5D 72 5D 72 5D\
6480- 72 5D 72 5D 72 5D 72 5D\
6488- 72 5D 72 5D 72 5D 72 5D\
6490- 72 5D 72 5D 72 5D 72 24\
6498- 72 24 72 24 72 3B 5E 24\
64A0- 72 24 72 24 72 24 72 24\
64A8- 72 24 72 24 72 24 72 24\
64B0- 72 24 72 24 72 24 72 24\
64B8- 72 24 72 24 72 24 72 24\
64C0- 72 24 72 24 72 24 72 24\
64C8- 72 24 72 24 72 24 72 24\
64D0- 72 24 72 24 72 24 72 24\
64D8- 72 24 72 24 72 24 72 0E\
64E0- 72 87\
*
\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 \
63B0 : REVCAPS DUP DUP LETTER? = 0BRANCH 000C INVERSE EMIT INVERSE BRANCH 0004 A\
LLCAPS ;S\
\
639C : ALLCAPS CAPIZE DROP EMIT ;S\
\
6380 : CAPIZE? CAP @ 0BRANCH 0008 CAPIZE CAP ! ;S\
\
635D : CAPIZE DUP LETTER? -DUP 0BRANCH 000C SWAP DROP 0 BRANCH 0004 1 ;S\
\
632D : LETTER? LIT FFDF AND DUP DUP LIT 0041 < SWAP LIT 005A > OR 0BRANCH 0006 D\
ROP 0 ;S\
\
6314 : SENTCAP? TWEEN 1 > CAP ! ;S\
\
630A : CAP 0F21			\\ VARIABLE $0001\
\
62F6 : LIKEY BL CURS-ADR C! DARKEY ;S\
\
62DB : CURS-ADR CV C@ BCALC CH C@ + ;S\
\
62C8 : DARKEY KEY? 0BRANCH FFFC ;S\
\
62B0 : INVERSE LIT 0032 LIT 00C0 TOGGLE ;S\
\
6299 : KEY? ?KEY DUP 0BRANCH 0006 KEY SWAP ;S\
\
6284 : ?KEY KBD C@ LIT 007F > ;S\
\
626F : CHV! CH ! LIT FC22 CALL ;S\
\
6265 : KBD 0F05			\\ CONSTANT $C000\
\
624E : CURS-SIZE 13DA		\\ DOES> 550C = CTABLE\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
625E- 22 55\
6260- 01 01 02 05 01\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
6239 : CH-SIZE 13DA		\\ DOES> 550C = CTABLE\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
6247- CA\
6248- 61 01 01 02 05 01\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
6229 : TWEEN TOP TOS-TYPE ;S\
\
6216 : TOS-TYPE TOS CH-TYPE ;S\
\
61C0 : CH-TYPE \
SDUP MIN-SP < EH? 0BRANCH 0008 \
  0 BRANCH 0038 \
SENTMARK < EH? 0BRANCH 0008 \
  1 BRANCH 0028 \
PARAMARK < EH? 0BRANCH 0008 \
  2 BRANCH 0018 \
END-MARK < EH? 0BRANCH 0008 \
  3 BRANCH 0008 \
2DROP LIT 0004 \
;S
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 \
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
618E : DEFAULT 					\\ NO MATCH FOUND IN A CASE STATEMENT \
CASES @ \
DUP 0BRANCH 0010 \
0 (DO) THEN (LOOP) FFFC \
BRANCH 0004 \
DROP\
LIT 0005 ?PAIRS CASES ! ;S\
\
\\ ANOTHER FORM OF THE CASE STATEMENT - NOT SURE WHEN USED\
6176 : CASE> 1 CASES +! COMPILE EH?> IF ;S\
\
615F : CASE \
1 CASES +! 		\\ INCREMENT NUMBER OF CASES\
COMPILE EH? 	\\ ADD LOGIC TO EVALUATE CASE VALUE\
IF 				\\ DO SUBSEQUENT LOGIC ONLY IF CASE MATCHES\
;S				\\ SHOULD HAVE A \'93THEN\'94 AT THE END OF THAT LOGIC\
\
6140 : SWITCH 	\\ NEW SWITCH-CASE STRUCTURE\
	CASES @ 	\\ GET PREVIOUS NUMBER OF CASES ON STACK\
	0 CASES ! 	\\ ZERO OUT THE NUMBER OF CASES\
	LIT 0005 	\\ PUT A 5 ON THE STACK (STATE PARAMETER?)\
	COMPILE SDUP \\ ADD A DUP TO THE WORD BEING COMPILED\
	;S\
\
\
6127 : EH?> \
0BRANCH 0008 \
  1 BRANCH 0006 \
DUP \
0 \
;S\
\
610D : EH? 		\\ COMPILED BY CASE TO EVALUATE THE CONDITION\
0BRANCH 000A	\\ IF FALSE, SKIP TO THE DUP BELOW \
  DROP 1 			\\ IF TRUE, REPLACE WITH 1\
  BRANCH 0006 	\\ EXIT\
DUP \
0 \
;S\
\
6100 : SDUP DUP ;S		\\ SYNONYM FOR DUP - COMPILED BY SWITCH\
\
60F4 : CASES 0F21		\\ VARIABLE $0000 - COUNTS THE NUMBER OF CASES?\
LFA = $1992 (WORD WITH 1 SPACE THAT LINKS TO $8118 - JOT)\
\
\\ WORD CONTAINS 1 SPACE - USED TO LINK VOCABULARIES?\
60EE :  \
LFA = $6127 (EH?>)\
CFA = $343B (IN THE EDITOR VOCABULARY)\
\
60DF : SW-STUFF 13DA	\\ DOES>		\\ 197E = VOCABULARY - \'93SWITCH STUFF\'94\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
608C : XFER \
DIME ! D-CS ! S-CS ! DONE 0= 0BRANCH 0036 \
S-CS @ \uc0\u32 \u769 TOS D-CS @ PREPUSH \
S-CS @ #CHARS \
D-CS @ @ MIN \
LIT 00FF MIN MLXFER \
DUP S-CS @ #CPOPPED \
D-CS @ #CPUSHED BRANCH FFC6 \
;S\
\
605B : DONE \
S-CS @ DUP LIT 0004 + @ 0= 0BRANCH 000A \
DROP 1 BRANCH 000C \
TOS DIME @ < 0= \
;S\
\
6050 : D-CS 0F21	\\ variable $99, $58\
\
6045 : S-CS 0F21	\\ variable $54, $57\
\
6036 : >= (MACRO) < 0= ;S\
\
6029 : <> (MACRO) - ;S\
\
601A : <= (MACRO) > 0= ;S\
\
600C : NOT (MACRO) 0= ;S\
\
5FCC : MLXFER 5FD7\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 5FD7-   A9 03       LDA   #$03\
5FD9-   20 E0 08    JSR   $08E0\
5FDC-   86 E0       STX   $E0\
5FDE-   A5 D3       LDA   $D3\
5FE0-   38          SEC\
5FE1-   E5 D1       SBC   $D1\
5FE3-   8D F9 5F    STA   $5FF9\
5FE6-   A5 D4       LDA   $D4\
5FE8-   E5 D2       SBC   $D2\
5FEA-   8D FA 5F    STA   $5FFA\
5FED-   A6 D1       LDX   $D1\
5FEF-   A0 00       LDY   #$00\
5FF1-   B1 D5       LDA   ($D5),Y\
5FF3-   CD CA 5F    CMP   $5FCA\
5FF6-   B0 07       BCS   $5FFF\
5FF8-   9D B7 AC    STA   $ACB7,X\
5FFB-   C8          INY\
5FFC-   CA          DEX\
5FFD-   D0 F2       BNE   $5FF1\
5FFF-   A6 E0       LDX   $E0\
6001-   A9 00       LDA   #$00\
6003-   CA          DEX\
6004-   95 00       STA   $00,X\
6006-   CA          DEX\
6007-   94 00       STY   $00,X\
6009-   4C B8 08    JMP   $08B8
\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 \
5FC1 : DIME 0F21	\\ variable $00F0 = 240\
\
5EE2 : CLEAR-TEXT \
EMPTY-BUFFERS \
FREE-ALL \
END-MARK >TOP \
END-MARK >BOT \
;S\
\
\\ load index block (35)\
5ECE : LOAD-TEXT INDX LOAD-INDEX ;S\
\
5E9D : LOAD-INDEX \
EMPTY-BUFFERS \
DUP BLOCK PTR ! \
FREE-BLOCKS \
LOAD-BUNCH \
TOP LOAD-CS \
DELETE-BUFFER \
LOAD-CS \
BOTTOM \
LOAD-CS \
SLURP-BUFFER \
LOAD-CS \
FLUSH-ONE \
;S\
\
5E7F : LOAD-CS \
DUP LIT 0004 LOAD-BYTES \
LIT 0004 + LOAD-BUNCH \
;S\
\
5E64 : LOAD-BUNCH PTR @ @ 2+ LOAD-BYTES ;S\
\
5E43 : LOAD-BYTES \
PTR @ \
OVER PTR +! \
ROT ROT \
CMOVE  \
;S\
\
5E30 : SAVE-KEY \
DROP \
SAVE-TEXT \
;S\
\
5E1A : SAVE-TEXT \
INDX WRITE-INDEX \
WRITE-ALL \
;S\
\
\\ *** THIS IS THE DATA STRUCTURE FOR THE DOCUMENT INDEX ***\
5DE8 : WRITE-INDEX \
DUP BUFFER PTR ! \
FREE-BLOCKS SAVE-BUNCH \
TOP SAVE-CS \
DELETE-BUFFER SAVE-CS \
BOTTOM SAVE-CS \
SLURP-BUFFER SAVE-CS \
UPDATE \
FLUSH-ONE \
;S\
\
5DCA : SAVE-CS DUP LIT 0004 SAVE-BYTES LIT 0004 + SAVE-BUNCH ;S\
\
5DB1 : SAVE-BUNCH DUP @ 2+ SAVE-BYTES ;S\
\
5D92 : SAVE-BYTES PTR @ SWAP DUP PTR +! CMOVE  ;S\
\
5D88 : PTR 0F21	\\ variable $AE,$A8\
\
5D79 : >SIP SLURP-BUFFER CPUSH ;S\
\
5D6A : >DEL DELETE-BUFFER CPUSH ;S\
\
5D5B : >BOT BOTTOM CPUSH ;S\
\
5D4C : >TOP TOP CPUSH ;S\
\
5D32 : CPUSH SWAP OVER PREPUSH C! 1 SWAP #CPUSHED ;S\
\
5D0D : #CPUSHED SWAP DUP 0BRANCH 000C MINUS SWAP +! BRANCH 0006 SWAP #CPOPPED ;S\
\
5CD3 : PREPUSH DUP @ 0= 0BRANCH 001C 1 OVER LIT 0004 + +! ALLOC OVER \uc0\u32 \u769 TOS-BLK C!\
 B/BUF OVER ! \uc0\u32 \u769 TOS 1 - UPDATE ;S\
\
5CC3 : SIP>? SLURP-BUFFER CPOP? ;S\
\
5CB3 : DEL>? DELETE-BUFFER CPOP? ;S\
\
5CA4 : BOT> BOTTOM CPOP ;S\
\
5C95 : TOP> TOP CPOP ;S\
\
5C6A : EMPTY-CSTACK \
DUP LIT 0004 + @ 0BRANCH 000A \
DUP POP-BLK BRANCH FFEC \
DROP \
;S\
\
5C4E : CPOP CPOP? 0= 0BRANCH 000B (.") 04 CPOP" QUIT ;S\
\
5C1E : CPOP? DUP LIT 0004 + @ 0= 0BRANCH 000A DROP 0 BRANCH 000E DUP TOS 1 ROT #\
CPOPPED 1 ;S\
\
5BED : #CPOPPED SWAP -DUP 0BRANCH 001A OVER +! DUP #CHARS 0BRANCH 0008 DROP BRAN\
CH 0004 POP-BLK BRANCH 0004 DROP ;S\
\
5BB8 : FREE-ALL 0 FREE-BLOCKS ! BLKN 1+ BLK1 (DO) I FREE (LOOP) FFFA DELETE-BUFF\
ER CLR-CSTK TOP CLR-CSTK SLURP-BUFFER CLR-CSTK BOTTOM CLR-CSTK ;S\
\
5B8E : POP-BLK DUP \uc0\u32 \u769 TOS-BLK C@ FREE LIT FFFF OVER LIT 0004 + +! 0 SWAP ! ;S\
\
5B75 : FREE 1 FREE-BLOCKS +! DUP FREE-BUFFER LAST-FREE C! ;S\
\
5B33 : ALLOC FREE-BLOCKS @ 0BRANCH 0012 LAST-FREE C@ LIT FFFF FREE-BLOCKS +! BRA\
NCH 001A (.") 13 OUT OF DISK BLOCKS!" QUIT DUP BUFFER DROP ;S\
\
5B19 : LAST-FREE FREE-BLOCKS DUP @ + 1+ ;S\
\
5B0A : RES-FREE 0F21		\\variable $0000\
\
5A6C : FREE-BLOCKS 0F21	\\variable $0066\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 5A7E- 8B 8A\
5A80- 89 88 87 86 85 84 83 82\
5A88- 81 80 7F 7E 7D 7C 7B 7A\
5A90- 79 78 77 76 75 74 73 72\
5A98- 71 70 6F 6E 6D 6C 6B 6A\
5AA0- 69 68 67 66 65 64 63 62\
5AA8- 61 60 5F 5E 5D 5C 5B 5A\
5AB0- 59 58 57 56 55 54 53 52\
5AB8- 51 50 4F 4E 4D 4C 4B 4A\
5AC0- 49 48 47 46 45 44 43 42\
5AC8- 41 40 3F 3E 3D 3C 3B 3A\
5AD0- 39 38 37 36 35 34 33 32\
5AD8- 31 30 2F 2E 2D 2C 2B 2A\
5AE0- 29 28 27 6B 24 24 00 00\
5AE8- 00 00 00 00 00 00 00 00\
5AF0- 00 00 00 00 00 00 00 00\
5AF8- 00 00 00 00 00 00 00 00\
5B00- 00 00 00 00 00 00 00 00\
5B08- 00 00 \
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
5A41 : TURKEY \
QUIT  CFA DUP DUP \
LITW 2675 ! \
LITW 4A81 ! \
LIT 5A4C ! \
SAVETURNKEY \
;S\
\
5A22 : PEEK LIT 0006 + SWAP B/BUF /MOD ROT + C@ TH-CHAR ;S\
\
5A06 : TH-CHAR BLOCK B/BUF ROT 1+ - + C@ ;S\
\
59EF : \uc0\u32 \u769 BOT-BLK (MACRO) LIT 0006 + ;S\
\
59D0 : SIZE DUP LIT 0004 + @ B/BUF * SWAP @ - ;S\
\
592B : SLURP-BUFFER 13DA		\\ DOES> 562E = CSTACK\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 593C- 2E 56 00 00\
5940- 00 00 00 00 20 20 20 20\
5948- 20 20 20 20 20 00 00 00\
5950- 00 00 00 00 00 00 00 00\
5958- 00 00 00 00 00 00 00 00\
5960- 00 00 00 00 00 00 00 00\
5968- 00 00 00 00 00 00 00 00\
5970- 00 00 00 00 00 00 00 00\
5978- 00 00 00 00 00 00 00 00\
5980- 00 00 00 00 00 00 00 00\
5988- 00 00 00 00 00 00 00 00\
5990- 00 00 00 00 00 00 00 00\
5998- 00 00 00 00 00 00 00 00\
59A0- 00 00 00 00 00 00 00 00\
59A8- 00 00 00 00 00 00 00 00\
59B0- 00 00 00 00 00 00 00 00\
59B8- 00 00 00 00 00 00 00 00\
59C0- 00 00 00 00 00 00 00 00\
59C8- 00 00 00 00 00 00 00 00\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
588C : BOTTOM 13DA				\\ DOES> 562E = CSTACK\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 5897- 2E\
5898- 56 33 00 00 00 02 00 26\
58A0- 25 7B 7C 7D 7E 7F 80 81\
58A8- 86 89 82 83 87 85 84 00\
58B0- 00 00 00 00 00 00 00 00\
58B8- 00 00 00 00 00 00 00 00\
58C0- 00 00 00 00 00 00 00 00\
58C8- 00 00 00 00 00 00 00 00\
58D0- 00 00 00 00 00 00 00 00\
58D8- 00 00 00 00 00 00 00 00\
58E0- 00 00 00 00 00 00 00 00\
58E8- 00 00 00 00 00 00 00 00\
58F0- 00 00 00 00 00 00 00 00\
58F8- 00 00 00 00 00 00 00 00\
5900- 00 00 00 00 00 00 00 00\
5908- 00 00 00 00 00 00 00 00\
5910- 00 00 00 00 00 00 00 00\
5918- 00 00 00 00 00 00 00 00\
5920- 00 00 00 00 00 00 00 00\
5928- 00 00 00 8C
\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 \
57E6 : DELETE-BUFFER 13DA		\\ DOES> 562E = CSTACK
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 57F8- 2E 56 FD 03 00 00 01 00\
5800- 6D 20 20 20 20 20 20 20\
5808- 00 00 00 00 00 00 00 00\
5810- 00 00 00 00 00 00 00 00\
5818- 00 00 00 00 00 00 00 00\
5820- 00 00 00 00 00 00 00 00\
5828- 00 00 00 00 00 00 00 00\
5830- 00 00 00 00 00 00 00 00\
5838- 00 00 00 00 00 00 00 00\
5840- 00 00 00 00 00 00 00 00\
5848- 00 00 00 00 00 00 00 00\
5850- 00 00 00 00 00 00 00 00\
5858- 00 00 00 00 00 00 00 00\
5860- 00 00 00 00 00 00 00 00\
5868- 00 00 00 00 00 00 00 00\
5870- 00 00 00 00 00 00 00 00\
5878- 00 00 00 00 00 00 00 00\
5880- 00 00 00 00 00 00 00 00\
5888- 00 00 00 00 \
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
574A : TOP 13DA				\\ DOES> 562E = CSTACK\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 5752- 2E 56 = CSTACK - does nothing (\'93Character stack?\'94)\
5754- FF 03 00 00\
5758- 01 00 24 84 85 87 83 82\
5760- 89 86 81 80 7F 7E 7D 7C\
5768- 7B 7A 20 20 00 00 00 00\
5770- 00 00 00 00 00 00 00 00\
5778- 00 00 00 00 00 00 00 00\
5780- 00 00 00 00 00 00 00 00\
5788- 00 00 00 00 00 00 00 00\
5790- 00 00 00 00 00 00 00 00\
5798- 00 00 00 00 00 00 00 00\
57A0- 00 00 00 00 00 00 00 00\
57A8- 00 00 00 00 00 00 00 00\
57B0- 00 00 00 00 00 00 00 00\
57B8- 00 00 00 00 00 00 00 00\
57C0- 00 00 00 00 00 00 00 00\
57C8- 00 00 00 00 00 00 00 00\
57D0- 00 00 00 00 00 00 00 00\
57D8- 00 00 00 00 00 00 00 00\
57E0- 00 00 00 00 00 00 \
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
5721 : CLR-CSTK 0 OVER ! 0 OVER LIT 0004 + ! 0 SWAP 2+ ! ;S\
\
5713 : TOS \uc0\u32 \u769 TOS C@ ;S\
\
56FA : \uc0\u32 \u769 TOS DUP \u32 \u769 TOS-BLK C@ BLOCK SWAP @ + ;S\
\
56E6 : TOS-BLK (MACRO) \uc0\u32 \u769 TOS-BLK C@ ;S\
\
56C9 : \uc0\u32 \u769 TOS-BLK LIT 0004 + DUP @ + 1+ ;S\
\
56B8 : #RES (MACRO) 2+ @ ;S\
\
56A8 : \uc0\u32 \u769 #RES (MACRO) 2+ ;S\
\
568F : EMPTY? (MACRO) LIT 0004 + @ 0= ;S\
\
5679 : #BLKS (MACRO) LIT 0004 + @ ;S\
\
5664 : \uc0\u32 \u769 #BLKS (MACRO) LIT 0004 + ;S\
\
564F : #CHARS B/BUF SWAP @ - ;S\
\
563F : #FREE (MACRO) @ ;S\
\
5630 : \uc0\u32 \u769 #FREE (MACRO) ;S\
\
560F : CSTACK <BUILDS 0 , 0 , 0 , B/DSK ALLOT DOES> ;S\
\
5604 : "ESC 0F05		\\ CONSTANT $001B\
55F4 : BACKSLASH 0F05	\\ CONSTANT $005C\
55EA : "-> 0F05		\\ CONSTANT $0015	(CTRL-U)\
55E0 : "<- 0F05		\\ CONSTANT	$0008	(CTRL-H)\
\
55CB : TYPE-SP 13DA	\\ DOES> 550C = CTABLE
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 55D7- 0C\
55D8- 55 22 55 00 80 90 A0 F0\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
55BB : WORD1-BIT 0F05	\\ CONSTANT $0008\
55AD : HI-BITS 0F05	\\ CONSTANT $000F\
559E : LOW-BITS 0F05	\\ CONSTANT $000F\
558F : END-MARK 0F05	\\ CONSTANT $00F0\
5580 : CUT-MARK 0F05	\\ CONSTANT $00E0\
5571 : PARAMARK 0F05	\\ CONSTANT $00A0\
5562 : SENTMARK 0F05	\\ CONSTANT $0090\
5555 : SPACER 0F05		\\ CONSTANT $0080\
5548 : MIN-SP 0F05		\\ CONSTANT $0080\
553D : BLKN 0F05		\\ CONSTANT $008B\
5532 : BLK1 0F05		\\ CONSTANT $0024\
5527 : INDX 0F05		\\ CONSTANT = 35 (BLOCK NUMBER OF INDEX OF DOCUMENT?)\
\
551C : NOP 5524\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 5524-   4C B8 08    JMP   $08B8\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
54F9 : CTABLE <BUILDS CFA , DOES> SWAP OVER @ EXECUTE + 2+ C@ ;S\
\
54A3 : NCOPIES >R SWAP R> OVER - >R R ROT ROT R> 0< 0BRANCH 000A SWAP 1+ BRANCH\
0006 1 - SWAP (DO) I OVER I + UNCLOG OVER . (COPY) DUP SIGNUM MINUS (+LOOP) FFE8\
\pard\pardeftab720\sl360\sa240\partightenfactor0
\cf2 DROP FLUSH ;S 
\f3\fs24 \
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 5476 : SIGNUM DUP 0< 0BRANCH 000C DROP LIT FFFF BRANCH 0010 0= 0BRANCH 0008 0 BR\
ANCH 0004 1 ;S\
\
5457 : NWIPES 1+ SWAP (DO) I UNCLOG (WIPE) (LOOP) FFF8 FLUSH ;S\
\
5438 : UNCLOG 32K-1 LOOK-RES? 0BRANCH 0008 DROP BRANCH 0006 DROP FLUSH ;S\
\
5428 : 1WIPE (WIPE) FLUSH ;S\
\
53F9 : (WIPE) B/SCR * DUP B/SCR + SWAP (DO) I BLOCK LIT 0400 LIT 0020 FILL UPDAT\
\
53F9 : (WIPE) B/SCR * DUP B/SCR + SWAP (DO) I BLOCK LIT 0400 LIT 0020 FILL UPDAT\
E (LOOP) FFEE ;S\
\
53E9 : 1COPY (COPY) WRITE-ALL ;S\
\
53B4 : (COPY) B/SCR * OFFSET @ + SWAP B/SCR * DUP B/SCR + SWAP (DO) DUP I REASSI\
GN 1+ (LOOP) FFF6 DROP ;S\
\
537A : WRITE-ALL LIMIT @ FIRST @ (DO) I @ DUP 32K-1 - 0BRANCH 000A UNSIGN WRITE-\
ONE BRANCH 0004 DROP LIT 0404 (+LOOP) FFE2 ;S\
\
5364 : FLUSH-ONE DUP WRITE-ONE EMPTY-BUFFER ;S\
\
534A : FREE-BUFFER RESIDENT? 0BRANCH 0004 CHUCK ;S\
\
5327 : EMPTY-BUFFER RESIDENT? 0BRANCH 000C DUP LIT 0400 ERASE CHUCK ;S\
\
52F5 : WRITE-ONE UPDATED? 0BRANCH 001C DUP 2 - DUP @ UNSIGN DUP ROT ! 0 &R/W BRA\
NCH 0004 DROP ;S\
\
52DA : UPDATED? BLOCK DUP 2 - @ 0< ;S\
\
52C3 : >BLK LIT 0404 * FIRST @ + ;S\
\
5283 : RLIST LIMIT @ FIRST @ (DO) I @ 32K-1 - 0BRANCH 0018 I @ 0< 0BRANCH 0006 (\
.") 01 *" I @ UNSIGN . LIT 0404 (+LOOP) FFD8 ;S\
\
523C : BLK> DUP DUP FIRST @ LIT 0404 - U< BLK? LIMIT @ OVER U< BLK? FIRST @ LIT\
0404 - - 0 LIT 0404 U/ ROT ROT BLK? DROP 1 - ;S\
\
5219 : BLK? 0BRANCH 0016 U. (.") 0D =BLOCK.ADR-2?" QUIT ;S\
\
\\ THROW OUT A BUFFER BY RESETTING ITS ADDRESS TO $7FFF?\
5203 : CHUCK 2 - 32K-1 SWAP ! ;S\
\
51E2 : REASSIGN BLOCK 2 - 2DUP ! SWAP BLK-TAB ! UPDATE ;S\
\
51BB : BUFFER \
DUP RESIDENT? 0BRANCH 000A \
SWAP DROP BRANCH 000C \
OFFSET @ + BUFFER NOTE-RES \
;S\
\
519B : BLOCK DUP RESIDENT? 0BRANCH 000A SWAP DROP BRANCH 0006 BLOCK NOTE-RES ;S\
\
517C : NOTE-RES DUP 2 - DUP @ UNSIGN BLK-TAB ! ;S\
\
5160 : #BUFS LIMIT @ FIRST @ - LIT 0404 / ;S\
\
50FC : RESIDENT? \
OFFSET @ + DUP ?BLK BLK-TAB 2DUP @ @ UNSIGN = 0BRANCH 000E \
SWAP DROP @ 1 BRANCH 001C \
SWAP LOOK-RES? 0BRANCH 000E \
DUP ROT ! 1 BRANCH 0008 \
DROP DROP 0 0BRANCH 0010 \
DUP PREV ! 2+ 1 BRANCH 0004 \
0 \
;S\
\
50CA : ?BLK \
DUP 0 < OVER DISKMAX @ > OR 0BRANCH 0015\
. (.") 0C DISK BLOCK? "\
QUIT \
;S\
\
4E8C : BLK-TAB 13DA  \\ DOES> 4E11 = ARRAY\
\
4E77 : CARRAY <BUILDS ALLOT DOES> + ;S\
\
4E62 : STUFFS (\uc0\u32 \u769 ) ROT ROT (STUFFS) ;S\
\
4E3F : (STUFFS) 1+ SWAP (DO) I OVER (STUFF) 2 (+LOOP) FFF6 DROP ;S\
\
4E2F : STUFF (\uc0\u32 \u769 ) (STUFF) ;S\
\
4E19 : (STUFF) 2 - SWAP ! ;S\
\
4DFF : ARRAY <BUILDS 2* ALLOT DOES> SWAP 2* + ;S\
\
4DF0 : 2* (MACRO) DUP + ;S\
\
4DDC : MACRO ?COMP IMMEDIATE COMPILE (MACRO) ;S\
\
4D8C : (MACRO) \
STATE @ 0BRANCH 003C \
GRAB 2+ DUP LITW 0C39 - 0BRANCH 0026 \
DUP CFA , \
DUP LITW 08A0 = \
SWAP LITW 4386 = OR 0BRANCH 0006 \
GRAB , BRANCH FFCE \
DROP R> DROP \
;S\
 
\f3\fs24 \

\f1\fs32 4D70 : CGRAB R> R C@ R> 1+ >R SWAP >R ;S\
\
4D55 : GRAB R> R @ R> 2+ >R SWAP >R ;S\
\pard\pardeftab720\sl360\sa240\partightenfactor0
\cf2 \
4D40 : J 4D46 
\f3\fs24 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 4D46-   86 E0       STX   $E0\
4D48-   BA          TSX\
4D49-   BD 05 01    LDA   $0105,X\
4D4C-   48          PHA\
4D4D-   BD 06 01    LDA   $0106,X\
4D50-   A6 E0       LDX   $E0\
4D52-   4C B1 08    JMP   $08B1\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
4D2A : I\uc0\u32 \u769  4D31 
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
4D31-   86 E0       STX   $E0\
4D33-   BA          TSX\
4D34-   BD 03 01    LDA   $0103,X\
4D37-   48          PHA\
4D38-   BD 04 01    LDA   $0104,X\
4D3B-   A6 E0       LDX   $E0\
4D3D-   4C B1 08    JMP   $08B1\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f3\fs24 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 4CAE : LOOK-RES? 0 LIMIT @ FIRST @ (DO) OVER I @ UNSIGN = 0BRANCH 000E 2DROP I 1\
 LEAVE BRANCH 0006 I NOTE-IF-FREE B/BUF LIT 0004 + (+LOOP) FFD8 ;S\
\
4C7D : NOTE-IF-FREE DUP @ 32K-1 = 0BRANCH 0012 -BUF DUP USE ! PREV ! BRANCH 0004\
 DROP ;S\
\
4C5A : -BUF DUP FIRST @ = 0BRANCH 0008 DROP LIMIT @ LIT 0404 - ;S\
\
4C49 : UNSIGN 32K-1 AND ;S\
\
4C3D : 32K-1 0F05	\\ CONSTANT $7FFF\
\
4A97 : EDIT: LOOKUP EDIT ;S\
\
4A78 : EDIT QUIT ED-SCR ! 0 ED-CV ! 0 ED-CH ! RE ;S\
\
4A6B : RE ?STACK EDIT-LOOP ;S\
\
4881 : INCLUDE TASTE 0BRANCH 000A BL WORD BRANCH 0006 LOOKUP LOAD ;S\
\
485C : LOOKUP LOOKUP? 0= 0BRANCH 0012 CR HERE COUNT TYPE (.") 03 ?!?" QUIT ;S\
\
47F6 : LOOKUP? BL WORD BL APPEND-CHAR OFFSET @ >R BLK @ B/DSK / B/DSK * OFFSET!\
BASE @ >R DECIMAL (LOOKUP?) 0BRANCH 0008 1 BRANCH 0006 SUMMARIZE (LOOKUP?) R> BA\
SE ! OFFSET @ R - SWAP 0BRANCH 000A + 1 BRANCH 0006 DROP 0 R> OFFSET! ;S\
\
47D2 : APPEND-CHAR HERE C@ 1+ DUP HERE C! HERE + C! ;S\
\
477A : (LOOKUP?) 0 LOOK1 DUP LOOKS + SWAP (DO) I IN-INDEX 0BRANCH 000A ROT DROP\
1 LEAVE (LOOP) FFEE 0BRANCH 0022 OVER BLOCK LIT 0024 SWAP -TEXT 0= 0BRANCH 0008\
1 BRANCH 0006 DROP 0 BRANCH 0004 0 ;S\
\
470B : IN-INDEX BLOCK 0 OVER LIT 0017 LIT 0028 * + ROT LIT 0050 + (DO) I LIT 000\
4 + LOOKPTR ! IN-LIST 0BRANCH 000A DROP I 1 LEAVE LIT 0028 (+LOOP) FFE0 0BRANCH\
001E DUP C@ BL = 0BRANCH 0008 1+ BRANCH FFF0 -NUMBER 1+ 1 BRANCH 0004 0 ;S\
\
46E9 : -NUMBER LIT 0000 LIT 0000 ROT 1 - (NUMBER) SWAP DROP ;S\
\
46B5 : IN-LIST 0 LPAR SAME-WORD 0BRANCH 001E -BL RPAR SAME-WORD 0= 0BRANCH 0012\
HERE SAME-WORD 0BRANCH 0006 DROP 1 BRANCH FFE6 ;S\
\
46A7 : RPAR 13DA \\ DOES> 451E = :"\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 46B2- 02 29 20 \
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
4699 : LPAR 13DA \\ DOES> 451E = :"\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 46A4- 02 28 20 
\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 \
467B : -BL NEXTCHAR BL = 0BRANCH FFF8 NEXTCHAR BL - 0BRANCH FFF8 ;S\
\
4661 : SAME-WORD COUNT LOOKPTR @ -TEXT 0= ;S\
\
4646 : NEXTCHAR LOOKPTR 1 OVER +! @ C@ ;S\
\
4638 : LOOKPTR 0F21	\\ variable $E3, $9E\
\
4625 : I6 LOOK1 LIT 0005 + L ;S\
\
4616 : I3 LOOK1 2+ L ;S\
\
4603 : I5 LOOK1 LIT 0004 + L ;S\
\
45F4 : I2 LOOK1 1+ L ;S\
\
45E3 : I4 LOOK1 3 + L ;S\
\
45D6 : I1 LOOK1 L ;S\
\
45B6 : SUMMARIZE \
LOOKS 0 (DO) I 1+ SUM (LOOP) FFF8 \
;S\
\
4594 : SUM 1 - DUP LOOK1 + SWAP 2 * SEEN + @ (SUM) ;S\
\
\pard\pardeftab720\partightenfactor0
\cf2 454D : (SUM)\
DUP LIT 0014 + \
HOME (.") 03 ("\
OVER . DUP . (.") 0A INDEX);S"\
INDEX CV C@ LIT 0016 < 0BRANCH 0004 \
QUIT \
LOAD-BUFFER \
UPDATE \
\pard\pardeftab720\sl360\sa240\partightenfactor0
\cf2 ;S 
\f3\fs24 \
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 4538 : SEEN 0F21	\\ VARIABLE \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 4541- 24 00 33 00 42 00 57\
4548- 00 67 00 77 00
\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 \
452C : LOOKS 0F05	\\ CONSTANT $0006\
\
4520 : LOOK1 0F05	\\ CONSTANT $0054\
\
4505 : :" <BUILDS LIT 0022 WORD HERE C@ 1+ ALLOT DOES> ;S\
\
44E7 : CTRL- INPTR C@ LIT 0040 - 1 IN +! LITERAL ;S\
\
44D3 : " INPTR C@ 1 IN +! LITERAL ;S\
\
44AD : INPTR BLK @ -DUP 0BRANCH 0008 BLOCK BRANCH 0006 TIB @ IN @ + ;S\
\
446F : FORGET TASTE 0BRANCH 000D (.") 02 - " FORGET BRANCH 0022 BL WORD BLK @ 0=\
 0BRANCH 0014 (.") 01  " HERE COUNT TYPE (.") 03  ? " KEY ;S\
\
4457 : TASTE IN @ EXISTS SWAP IN ! ;S\
\
4438 : EXISTS -FIND 0BRANCH 000C DROP DROP 1 BRANCH 0004 0 ;S\
\
4424 : --> ?TERMINAL 0BRANCH 0004 QUIT --> ;S\
\
43F4 : LOAD \
>R ?STACK R> 1 WARNING ! \
?TERMINAL 0BRANCH 0004 \
QUIT (.") 01 [" \
LOAD\
LIT 0008 EMIT \
(.") 02 ] " \
;S\
\
43EB : S0 0FA2		\\ USER VAR $0006\
\
43DF : \uc0\u32 \u769  (\u32 \u769 ) LITERALW ;S\
\
43CB : (\uc0\u32 \u769 ) -FIND 0= 0 ?ERROR DROP ;S\
\
43BC : >V CONTEXT ! DEFINITIONS ;S\
\
43AF : V> CURRENT @ ;S\
\
4392 : LITERALW STATE @ 0BRANCH 0008 COMPILE LITW , ;S\
\
437D : LITW R @ R> 2+ >R ;S\
\
436F : #2! B/DSK OFFSET! ;S\
\
4361 : #1! 0 OFFSET! ;S\
\
4341 : OFFSET! OFFSET @ - -DUP 0BRANCH 0008 FLUSH OFFSET +! ;S\
\
4334 : #2 B/DSK + ;S\
\
4328 : B/DSK 0F05	\\ CONSTANT $008C (140 1K BLOCKS PER DISK)\
\
3D39 : TASK ;S\
\
3D00 : SEARCH 1+ SWAP (DO) I DUP SCOPY SRCH EFL @ 0BRANCH 000A EDIT LEAVE BRANCH\
 0004 DROP (LOOP) FFE4 LIT 0017 0 VHTAB ;S\
\
3CA1 : SRCH 0 EFL ! LIT 0018 0 (DO) I DUP BCALC LIT 0028 0 (DO) I OVER + #CHRS @\
 SLINE -TEXT 0= 0BRANCH 001A OVER I VHTAB KEY LIT 0045 = 0BRANCH 0008 1 EFL ! (L\
OOP) FFD2 DROP DROP (LOOP) FFBC ;S\
\
3C90 : ST SLINE #CHRS @ TYPE ;S\
\
3C73 : SW CR (.") 05 WORD?" SLINE LIT 0028 EXPECT COUNT-CHRS ;S\
\
3C38 : COUNT-CHRS 0 #CHRS ! SLINE DUP C@ 0BRANCH 001C DUP C@ LIT 0080 OR OVER C!\
 1+ 1 #CHRS +! BRANCH FFE0 ;S\
\
3C2E : EFL 0F21	\\ VARIABLE $00,$00\
\
3C22 : #CHRS 0F21	\\ VARIABLE $03,$00\
\
3BEE : SLINE 0F21\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
3BF8- C3 CF CC 00 00 D2 00 00\
3C00- 20 20 20 20 20 20 20 20\
3C08- 20 20 20 20 20 20 20 20\
3C10- 20 20 20 20 20 20 20 20\
3C18- 20 20 20 20 20 20 20 20\
3C20- 20 20 \
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
3BA3 : SCAN \
CR LIT 0020 0 (DO) \
  LIT 0007 SPACES I DUP LIT 0040 + EMIT \
  LIT 0007 SPACES 2 * CTRL + @ 2+ NFA ID. \
  CR ?TERMINAL 0BRANCH 0004 \
  LEAVE \
(LOOP) FFCC \
;S\
\
\\ ^^^ IS THIS THE START OF JOT DEFINITIONS????\
\
3B96 : EDIT EDIT ;S\
\
342A : EDITOR 13DA		\\ DOES> 197E = VOCABULARY\
\
\
341A : MON LIT FF69 CALL ;S\
\
3407 : DEMO EMPTY-BUFFERS LIT 0070 LOAD ;S\
\
\\ WORD = \'93P\'94? 81 90 - looks like printer logic\
33A7 :  LIT 0016 0 VHTAB \
SLOT @ PR CR \
LIT 7FFF BUFFER DUP LIT 0018 0 (DO) \
  DUP I BSTR LIT 0028 + \
(LOOP) FFF2 \
DROP LIT 0018 0 (DO) \
  CR DUP LIT 0028 -TRAILING TYPE\
  LIT 0028 + \
(LOOP) FFEC \
DROP CR 0 PR \
;S\
\
337C : LS \
1+ SWAP (DO) \
  CR I LIST \
  I 2 MOD 0BRANCH 0008 \
  LIT 000C EMIT \
(LOOP) FFE8\
CR \
;S\
\
3362 : VLINE 336C\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 336C-   B5 02       LDA   $02,X\
336E-   85 2D       STA   $2D\
3370-   B5 04       LDA   $04,X\
3372-   B4 00       LDY   $00,X\
3374-   20 28 F8    JSR   $F828\
3377-   E8          INX\
3378-   E8          INX\
3379-   4C C8 09    JMP   $09C8\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
3348 : HLINE 3352\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 3352-   B5 02       LDA   $02,X\
3354-   85 2C       STA   $2C\
3356-   B4 04       LDY   $04,X\
3358-   B5 00       LDA   $00,X\
335A-   20 19 F8    JSR   $F819\
335D-   E8          INX\
335E-   E8          INX\
335F-   4C C8 09    JMP   $09C8\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
332F : SCRN 3338\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 3338-   B4 02       LDY   $02,X\
333A-   B5 00       LDA   $00,X\
333C-   20 71 F8    JSR   $F871\
333F-   95 02       STA   $02,X\
3341-   A9 00       LDA   #$00\
3343-   95 03       STA   $03,X\
3345-   4C CA 09    JMP   $09CA\
\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
331C : PLOT 3325\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 3325-   B4 02       LDY   $02,X\
3327-   B5 00       LDA   $00,X\
3329-   20 00 F8    JSR   $F800\
332C-   4C C8 09    JMP   $09C8\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
330A : COLOR 3314
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 3314-   B5 00       LDA   $00,X\
3316-   20 64 F8    JSR   $F864\
3319-   4C CA 09    JMP   $09CA\
\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
32DD : TEXT \
LIT 0017 LIT 0025 C! \
LIT 1800 LIT 0022 ! \
LIT 2800 LIT 0020 ! \
(TXT) \
CR \
;S\
\
32B6 : GR (GR) LIT C053 C@ LIT C056 C@ LIT 0014 LIT 0022 C! DROP DROP CLEAR ;S\
\
3294 : CLEAR LIT 0014 0 (DO) I BCALC LIT 0028 ERASE (LOOP) FFF4 ;S\
\
3278 : (TXT) \
LIT C051 C@ \
LIT C054 C@ \
DROP DROP \
;S\
\
3259 : (GR) LIT C050 C@ DROP LIT 0017 LIT 0025 C! CR ;S\
\
323F : L DUP SCR ! SCOPY LIT 0016 0 VHTAB QUIT ;S\
\
3213 : SCOPY BLOCK DUP LIT 0018 0 (DO) I SBTR LIT 0028 + DUP (LOOP) FFF2 DROP DR\
OP ;S\
\
31EE : BSTR 31F7
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 31F7-   B5 00       LDA   $00,X\
31F9-   20 C1 FB    JSR   $FBC1\
31FC-   B5 02       LDA   $02,X\
31FE-   85 D1       STA   $D1\
3200-   B5 03       LDA   $03,X\
3202-   85 D2       STA   $D2\
3204-   A0 28       LDY   #$28\
3206-   88          DEY\
3207-   B1 28       LDA   ($28),Y\
3209-   49 80       EOR   #$80\
320B-   91 D1       STA   ($D1),Y\
320D-   98          TYA\
320E-   D0 F6       BNE   $3206\
3210-   4C C8 09    JMP   $09C8\
\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
31C9 : SBTR 31D2\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 31D2-   B5 00       LDA   $00,X\
31D4-   20 C1 FB    JSR   $FBC1\
31D7-   B5 02       LDA   $02,X\
31D9-   85 D1       STA   $D1\
31DB-   B5 03       LDA   $03,X\
31DD-   85 D2       STA   $D2\
31DF-   A0 28       LDY   #$28\
31E1-   88          DEY\
31E2-   B1 D1       LDA   ($D1),Y\
31E4-   49 80       EOR   #$80\
31E6-   91 28       STA   ($28),Y\
31E8-   98          TYA\
31E9-   D0 F6       BNE   $31E1\
31EB-   4C C8 09    JMP   $09C8\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\
\
3169 : CODE ?EXEC CREATE SMUDGE ASSEMBLER MEM !CSP LATEST PFA DUP 2 - ! ;S\
\
2B78 : ASSEMBLER 13DA		\\ DOES> 197E = VOCABULARY\
\
2B65 : RAND URAND U* SWAP DROP ;S\
\
2B3F : URAND RSEED @ LIT 2725 U* LIT 3947 S->D D+ DROP DUP RSEED ! ;S\
\
2B33 : RSEED 0F21	\\ variable $1001\
\
2AC9 : BUFFERS FLUSH LIMIT @ HERE LIT 0200 + - LIT 0404 / MIN 1 MAX LIT 0404 * L\
IMIT @ SWAP - FIRST ! FIRST @ DUP USE ! DUP PREV ! DUP LIT 0022 +ORIGIN ! DUP LI\
T 0026 +ORIGIN ! LIT 0028 +ORIGIN ! EMPTY-BUFFERS ;S\
\
2A75 : BACKUP OVER OVER SWAP - LIT 0404 * FIRST @ + LIMIT @ U< 0= 0BRANCH 0015 C\
R (.") 08 TOO MANY" DROP DROP QUIT EMPTY-BUFFERS 1+ SWAP (DO) I BLOCK UPDATE DRO\
P (LOOP) FFF6 ;S\
\
2A40 : DUMP BASE C@ >R HEX OVER + SWAP (DO) I .ROW ?TERMINAL 0BRANCH 0004 LEAVE\
LIT 0008 (+LOOP) FFEE R> BASE C! ;S\
\
2A2D : .ROW CR .ADDRESS .VALUES .ASCII ;S\
\
29F8 : .ASCII DUP LIT 0008 + SWAP (DO) I C@ DUP LIT 0021 < 0BRANCH 0008 DROP LIT\
 002E EMIT (LOOP) FFE6 ;S\
\
29CE : .VALUES DUP LIT 0008 + OVER (DO) I C@ 3 .R (LOOP) FFF6 SPACE SPACE ;S\
\
29B7 : .ADDRESS DUP LIT 0005 U.R ;S\
\
2939 : SAVETURNKEY \
Y/NQUERY LIT 14C1 LFA DUP @ 0BRANCH 0016 \
DUP @ PFA LFA SWAP 0 SWAP ! BRANCH FFE6 \
LIT 19F8 LIT 0021 + LATEST PFA CFA OVER ! LIT 0915 CFA \
OVER 2+ ! LIT FFFC SWAP LIT 0004 + ! \
CR (.") 0B INSERT DISK" \
KEY DROP \
SAVESYSTEM BRANCH FFE8 \
;S 
\f3\fs24 \

\f1\fs32 \
2927 : &KA 0F05	\\ constant $000A\
\
290F : &VRD 2918
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 2918-   AD E9 B7    LDA   $B7E9\
291B-   AC EA B7    LDY   $B7EA\
291E-   8D EA B7    STA   $B7EA\
2921-   8C E9 B7    STY   $B7E9\
2924-   4C B8 08    JMP   $08B8
\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 \
28D2 : INITIALIZEDISK Y/NQUERY &RWTS-FMT LIT 7FFF BUFFER DUP LIT 0400 BLANKS LIT\
 008C 0 (DO) DUP I 0 &R/W (LOOP) FFF6 DROP ;S\
\
28B5 : SAVESYSTEM FORTH DEFINITIONS REBOOT &SIZE &DUMP-RWTS &DUMP-FORTH ;S\
\
288F : &SIZE PAD 0 +ORIGIN - LIT 0100 /MOD SWAP 0BRANCH 0004 1+ SECTORS C! ;S\
\
286F : &DUMP-FORTH SECTORS C@ 0 +ORIGIN 0 &KA &DISK-DUMP ;S\
\
2850 : &DUMP-RWTS LIT 000A LIT B600 0 0 &DISK-DUMP ;S\
\
27CB : &DISK-DUMP \
0 &DRV DROP LIT B7ED C! LIT B7EC C! LIT B7F0 ! 2 LIT B7F4 C! \
&RWTS -DUP 0BRANCH 0004 \
ERRMSG LIT B7F1 C@ 1+ LIT B7F1 C! LIT B7ED C@ \
1+ DUP LIT 0010 = 0BRANCH 0014 \
LIT B7EC C@ 1+ LIT B7EC C! \
DROP 0 LIT B7ED C! 1 - \
DUP 0 = 0BRANCH FFB0 \
DROP\
;S\
\
2746 : &RWTS-FMT 0 &DRV DROP 1 LIT B7EB C! LIT 0004 LIT B7F4 C! CR CR (.") 0D FO\
RMATTING..." CR CR &RWTS 0BRANCH 002D LIT FE80 CALL LIT 0087 EMIT (.") 10 FORMAT\
RMATTING..." CR CR &RWTS 0BRANCH 002D LIT FE80 CALL LIT 0087 EMIT (.") 10 FORMAT\
TING ERROR" LIT FE84 CALL QUIT BRANCH 0016 (.") 0F INITIALIZING..." CR ;S\
\
2738 : SECTORS 0F05	\\constant  $E0 = 224, $B7 = 183\
\
2726 : GET EMPTY-BUFFERS LIT 0020 LOAD ;S\
\
2715 : LOAD DUP . LOAD ;S\
\
2700 : LK \uc0\u32 \u769  + @ 2+ NFA ID. ;S\
\
26DB : JOIN \uc0\u32 \u769  \u32 \u769  OVER OVER > 0BRANCH 0004 SWAP LFA SWAP NFA SWAP ! ;S\
\
266B : VLIST QUIT  OUT ! CONTEXT @ @ DUP C@ LIT 0020 AND 0= 0BRANCH 0032 DUP C@\
LIT 001F AND LIT 0004 + OUT @ + C/L @ > 0BRANCH 000A CR 0 OUT ! DUP ID. SPACE SP\
ACE PFA LFA @ DUP 0= ?TERMINAL OR 0BRANCH FFB0 DROP CR ;S\
\
263B : INDEX CR 1+ SWAP (DO) CR I 3 .R SPACE 0 I .LINE ?TERMINAL 0BRANCH 0004 LE\
AVE (LOOP) FFE6 ;S\
\
25D9 : LIST CR DUP SCR ! (.") 06 SCR # " . CR C/L @ LIT 0028 = 0BRANCH 000A LIT\
0018 BRANCH 0006 LIT 0010 0 (DO) CR C/L @ LIT 0028 - 0BRANCH 000A I 3 .R SPACE I\
 SCR @ .LINE (LOOP) FFDE ;S\
\
25A7 : VHTAB LIT 0027 MIN 0 MAX LIT 0024 C! LIT 0017 MIN 0 MAX LIT 0025 C! LIT F\
C22 CALL ;S\
\
2560 : Y/NQUERY CR (.") 14 ARE YOU SURE? (Y/N):" KEY DUP EMIT LIT 0059 = 0= 0BRA\
NCH 000F (.") 08  ABORTED" QUIT ;S\
\
2507 : WHERE DUP B/SCR / DUP SCR ! (.") 06 SCR # " . SWAP C/L @ /MOD C/L @ * ROT\
 BLOCK + CR C/L @ 1 - TYPE CR HERE C@ - SPACES LIT 005E EMIT 0 0 QUIT ;S\
\
24D9 : IND DUP 0BRANCH 0014 LIT 00C0 + LIT 0100 * ?CARD BRANCH 0008 DROP LIT FD1\
B LIT 0038 ! ;S\
\
24AC : PR DUP 0BRANCH 0014 LIT 00C0 + LIT 0100 * ?CARD BRANCH 0008 DROP LIT FDF0\
 LIT 0036 ! ;S\
\
2484 : ?CARD DUP @ OVER @ - 0BRANCH 0010 CR (.") 07 NO CARD" QUIT ;S\
\
2477 : D= D- D0= ;S\
\
2469 : D0= OR 0= ;S\
\
245C : D? 2@ D. ;S\
\
2443 : DMAX 2OVER 2OVER D< 0BRANCH 0004 2SWAP 2DROP ;S\
\
242A : DMIN 2OVER 2OVER D> 0BRANCH 0004 2SWAP 2DROP ;S\
\
241D : D> 2SWAP D< ;S\
\
240C : D< D- 0< SWAP DROP ;S\
\
23FF : D- DMINUS D+ ;S\
\
23E8 : 2ROT LIT 0006 ROLL LIT 0006 ROLL ;S\
\
23D0 : 2SWAP LIT 0004 ROLL LIT 0004 ROLL ;S\
\
23C1 : 2DUP OVER OVER ;S\
\
23A9 : 2OVER LIT 0004 PICK LIT 0004 PICK ;S\
\
2399 : 2DROP DROP DROP ;S\
\
2373 : --> ?LOADING 0 IN ! B/SCR BLK @ OVER MOD - BLK +! BLK ? ;S\
\
2367 : ? @ . ;S\
\
235B : . S->D D. ;S\
\
234A : .R >R S->D R> D.R ;S\
\
233D : U. 0 D. ;S\
\
232D : U.R 0 SWAP D.R ;S\
\
231E : D. 0 D.R SPACE ;S\
\
22FA : D.R >R SWAP OVER DABS <# #S SIGN #> R> OVER - SPACES TYPE ;S\
\
22E3 : #S # OVER OVER OR 0= 0BRANCH FFF4 ;S\
\
22B9 : # BASE @ M/MOD ROT LIT 0009 OVER < 0BRANCH 0008 LIT 0007 + LIT 0030 + HOL\
D ;S\
\
22A0 : SIGN ROT 0< 0BRANCH 0008 LIT 002D HOLD ;S\
\
2289 : #> DROP DROP HLD @ PAD OVER - ;S\
\
227A : <# PAD HLD ! ;S\
\
2259 : SPACES 0 MAX -DUP 0BRANCH 000C 0 (DO) SPACE (LOOP) FFFC ;S\
\
221A : &R/WSECT MINUS 2+ LIT B7F4 ! DUP LIT 022F > 0BRANCH 0014 LIT 008C &DRV DR\
OP LIT 0230 - BRANCH 0008 0 &DRV DROP &I/O ;S\
\
21AB : FORGET \uc0\u32 \u769  NFA DUP FENCE @ U< LIT 0015 ?ERROR >R VOC-LINK @ R OVER U< 0BRAN\
CH 0012 FORTH DEFINITIONS @ DUP VOC-LINK ! BRANCH FFE8 DUP LIT 0004 - PFA LFA @\
DUP R U< 0BRANCH FFF2 OVER 2 - ! @ -DUP 0= 0BRANCH FFD8 R> DP ! ;S\
\
2197 : \uc0\u32 \u769  -FIND 0= 0 ?ERROR DROP LITERAL ;S\
\
2187 : WHILE IF 2+ ;S\
\
2166 : ELSE 2 ?PAIRS COMPILE BRANCH HERE 0 , SWAP 2 ENDIF 2 ;S\
\
2151 : IF COMPILE 0BRANCH HERE 0 , 2 ;S\
\
2134 : REPEAT >R >R AGAIN R> R> 2 - ENDIF ;S\
\
211E : AGAIN 1 ?PAIRS COMPILE BRANCH BACK ;S\
\
2112 : END UNTIL ;S\
\
20FC : UNTIL 1 ?PAIRS COMPILE 0BRANCH BACK ;S\
\
20E6 : +LOOP 3 ?PAIRS COMPILE (+LOOP) BACK ;S\
\
20D1 : LOOP 3 ?PAIRS COMPILE (LOOP) BACK ;S\
\
20C0 : DO COMPILE (DO) HERE 3 ;S\
\
20B3 : THEN ENDIF ;S\
\
2097 : ENDIF ?COMP 2 ?PAIRS HERE OVER - SWAP ! ;S\
\
2085 : BEGIN ?COMP HERE 1 ;S\
\
2074 : BACK HERE - , ;S\
\
205F : MYSELF LATEST PFA CFA , ;S\
\
2032 : REBOOT VOC-LINK @ LIT 0020 +ORIGIN ! HERE LIT 001E +ORIGIN ! LATEST LIT 0\
00C +ORIGIN ! ;S\
\
201E : <<COMPILE>> [COMPILE] ;S\
\
2000 : [COMPILE] -FIND 0= 0 ?ERROR DROP CFA , ;S\
\
1F70 : &R/W MINUS 2+ LIT B7F4 C! DUP DISKMAX @ > OVER 0< OR 0BRANCH 001E CR (.")\
 11 DISK RANGE ERROR " . DROP QUIT &DRV CLIT 04 * OVER OVER &I/O OVER LIT 0100 +\
 OVER 1+ &I/O OVER LIT 0200 + OVER 2+ &I/O SWAP LIT 0300 + SWAP 3 + &I/O ;S\
\
1F3E : &I/O SWAP LIT B7F0 ! CLIT 10 0 SWAP U/ LIT B7EC C! LIT B7ED C! &RWTS -DUP\
 0BRANCH 0004 ERRMSG ;S\
\
1F0A : &DRV DUP LIT 008B > 0BRANCH 000E LIT 008C - DRIVE2 BRANCH 0004 DRIVE1 @ L\
IT B7E9 ! &VRD ;S\
\
1EFD : DRIVE2 0F21		\\ variable $02, $60 (slot 6 drive 2)\
\
1EF0 : DRIVE1 0F21		\\ variable $01, $60 (slot 6 drive 1)\
\
1EA4 : ERRMSG CR CLIT 87 EMIT CLIT 10 = 0BRANCH 001C (.") 13 WRITE PROTECT ERROR\
" BRANCH 0013 (.") 0E DISK I/O ERROR" CR QUIT ;S\
\
1E81 : CALL 1E8A\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 1E8A-   B5 00       LDA   $00,X\
1E8C-   8D 9B 1E    STA   $1E9B\
1E8F-   B5 01       LDA   $01,X\
1E91-   8D 9C 1E    STA   $1E9C\
1E94-   E8          INX\
1E95-   E8          INX\
1E96-   8A          TXA\
1E97-   48          PHA\
1E98-   98          TYA\
1E99-   48          PHA\
1E9A-   20 69 FF    JSR   $FF69\
1E9D-   68          PLA\
1E9E-   A8          TAY\
1E9F-   68          PLA\
1EA0-   AA          TAX\
1EA1-   4C B8 08    JMP   $08B8\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
1E62 : &RWTS 1E6C\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 1E6C-   8A          TXA\
1E6D-   48          PHA\
1E6E-   A9 B7       LDA   #$B7\
1E70-   A0 E8       LDY   #$E8\
1E72-   20 00 BD    JSR   $BD00\
1E75-   68          PLA\
1E76-   AA          TAX\
1E77-   A9 00       LDA   #$00\
1E79-   90 03       BCC   $1E7E\
1E7B-   AD F5 B7    LDA   $B7F5\
1E7E-   4C 07 0C    JMP   $0C07
\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 \
\\ load a forth screen number from disk ( nn \'97 )\
1DE1 : LOAD \
BLK @ >R \
IN @ >R \
0 IN ! \
B/SCR * BLK ! \
INTERPRET \
R> IN ! \
R> BLK ! \
;S\
\
1D8B : MESSAGE WARNING @ 0BRANCH 0025 -DUP 0BRANCH 001B DUP 1 - CLIT 17 / + CLIT\
 18 /MOD CLIT 8B + .LINE BRANCH 001F -DUP 0BRANCH 0019 (.") 06 MSG # " BASE @ DE\
CIMAL SWAP . BASE ! ;S\
\
1D79 : .LINE (LINE) -TRAILING TYPE ;S\
\
1D52 : (LINE) >R C/L @ B/BUF */MOD R> B/SCR * + BLOCK + C/L @ ;S\
\
1CEE : BLOCK OFFSET @ + >R PREV @ DUP @ LIT 7FFF AND R - 0BRANCH 6836  0= 0BRANC\
H 0014 DROP R BUFFER DUP R 1 &R/W 2 - DUP @ LIT 7FFF AND R - 0= 0BRANCH FFD4 DUP\
 PREV ! R> DROP 2+ ;S\
\
1CCA : EMPTY-BUFFERS \
FIRST @ LIMIT @ OVER - ERASE FLUSH \
;S\
\
1CA2 : FLUSH \
PREV @ DUP USE ! \
2+ LIT 7FFF BUFFER \
OVER = 0BRANCH FFF4 \
DROP \
;S\
\
1C53 : BUFFER \
USE @ +BUF  0= 0BRANCH 9306  \
DROP DUP >R USE ! R @ 0< 0BRANCH 0014 \
R 2+ R @ LIT 7FFF AND 0 &R/W R ! R PREV ! R> 2+ \
;S\
\
1C43 : DR0 0 OFFSET ! ;S\
\
1C24 : UPDATE PREV @ @ LIT 8000 OR PREV @ ! ;S\
\
1BF8 : +BUF  \
LIT 0404 + DUP \
LIMIT @ = 0BRANCH 0008 \
DROP FIRST @ DUP PREV @ - \
;S\
\
1BDA : M/MOD >R 0 R U/ R> SWAP >R U/ R> ;S\
\
1BCB : */ */MOD SWAP DROP ;S\
\
1BB7 : */MOD >R M* R> M/ ;S\
\
1BA9 : MOD /MOD DROP ;S\
\
1B9B : / /MOD SWAP DROP ;S\
\
1B9B : / /MOD SWAP DROP ;S\
\
1B88 : /MOD >R S->D R> M/ ;S\
\
1B7C : * U* DROP ;S\
\
1B55 : M/ OVER >R >R DABS R ABS U/ R> R XOR +- SWAP R> +- SWAP ;S\
\
1B38 : M* OVER OVER XOR >R ABS SWAP ABS U* R> D+- ;S\
\
1B20 : MAX OVER OVER < 0BRANCH 0004 SWAP DROP ;S\
\
1B08 : MIN OVER OVER > 0BRANCH 0004 SWAP DROP ;S\
\
1AF9 : DABS DUP D+- ;S\
\
1AEB : ABS DUP +- ;S\
\
1AD9 : D+- 0< 0BRANCH 0004 DMINUS ;S\
1AC8 : +- 0< 0BRANCH 0004 MINUS ;S\
\
1AB7 : S->D DUP 0< MINUS ;S\
\
1A71 : COLD 1A7A\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 1A7A-   AD 0C 08    LDA   $080C\
1A7D-   8D 94 19    STA   $1994\
1A80-   AD 0D 08    LDA   $080D\
1A83-   8D 95 19    STA   $1995\
1A86-   A0 23       LDY   #$23\
1A88-   A9 1A       LDA   #$1A\
1A8A-   85 DA       STA   $DA\
1A8C-   A9 61       LDA   #$61\
1A8E-   85 D9       STA   $D9\
1A90-   AD 10 08    LDA   $0810\
1A93-   85 DE       STA   $DE\
1A95-   AD 11 08    LDA   $0811\
1A98-   85 DF       STA   $DF\
1A9A-   B9 0C 08    LDA   $080C,Y\
1A9D-   91 DE       STA   ($DE),Y\
1A9F-   88          DEY\
1AA0-   10 F8       BPL   $1A9A\
1AA2-   D8          CLD\
1AA3-   A9 6C       LDA   #$6C\
1AA5-   85 DB       STA   $DB\
1AA7-   4C 25 0C    JMP   $0C25\
\
1AAA-   A0 0F       LDY   #$0F\
1AAC-   A9 19       LDA   #$19\
1AAE-   85 DA       STA   $DA\
1AB0-   A9 F8       LDA   #$F8\
1AB2-   85 D9       STA   $D9\
1AB4-   4C 90 1A    JMP   $1A90\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
1A57 : COLD1 SP! EMPTY-BUFFERS 1 SLOT ! HOME ABORT ;S\
\
1A48 : HOME 1A51\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 1A51-   20 58 FC    JSR   $FC58\
1A54-   4C B8 08    JMP   $08B8\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\
19EE : ABORT SP! DROP 0 DECIMAL DR0 FORTH DEFINITIONS LIT 0804 LIT 03F2 ! CLIT A\
D LIT 03F4 C! JOT BRANCH FFFC ;S\
\
*1A1F:41 50\
*19F4:BF 19\
*8702:BF\
*8706:19\
*1938:37 0C\
*8700G\
\
19BF : QUIT 0 BLK ! [ RP! CR QUERY INTERPRET STATE @ 0= 0BRANCH 0008 (.") 03  OK\
" BRANCH FFE6 ;S\
\
19B2 : ( CLIT 29 WORD ;S\
\
1998 : DEFINITIONS CONTEXT @ CURRENT ! ;S\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
1990- 7E 19 81 A0 18 81 00 00\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 1986 : FORTH 13DA		\\ DOES> 197E = VOCABULARY\
\
1951 : VOCABULARY <BUILDS LIT A081 , CURRENT @ CFA , HERE VOC-LINK @ , VOC-LINK\
! DOES> 2+ CONTEXT ! ;S\
\
193A : IMMEDIATE LATEST CLIT 40 TOGGLE ;S\
\
18EA : INTERPRET -FIND 0BRANCH 001E STATE @ < 0BRANCH 000A CFA , BRANCH 0006 CFA\
 EXECUTE ?STACK BRANCH 001C HERE NUMBER DPL @ 1+ 0BRANCH 0008 DLITERAL BRANCH 00\
06 DROP LITERAL ?STACK BRANCH FFC2 ;S\
\
18B0 : ?STACK CLIT BB SP@ < 0BRANCH 0018 (.") 0B EMPTY STACK" SP! DROP 0 QUIT SP\
@ CLIT 50 < CLIT 07 ?ERROR ;S\
\
1893 : DLITERAL STATE @ 0BRANCH 0008 SWAP LITERAL LITERAL ;S\
\
1877 : LITERAL STATE @ 0BRANCH 0008 COMPILE LIT , ;S\
\
17DB : CREATE FIRST @ HERE CLIT A0 + U< 2 ?ERROR -FIND 0BRANCH 002E DROP WARNING\
 @ LIT FFFF = 0BRANCH 0008 DROP BRANCH 0018 NFA ID. (.") 0F ISN\uc0\u32 \u769 T UNIQUE   " HER\
E DUP C@ DUP 0= CLIT 09 ?ERROR WIDTH @ MIN 1+ ALLOT DP C@ CLIT FD = 0BRANCH 0006\
 BL C, DUP CLIT 80 TOGGLE HERE 1 - CLIT 80 TOGGLE LATEST , CURRENT @ ! LIT 0F21 , ;S\
\
17AA : ID. PAD CLIT 20 CLIT 5F FILL DUP PFA LFA OVER - PAD SWAP CMOVE  PAD COUNT\
 CLIT 1F AND TYPE SPACE ;S\
\
176F : ERROR WARNING @ 0< 0BRANCH 0008 DROP BRANCH 0021 HERE COUNT TYPE (.") 04\
  ? " MESSAGE SP! DROP DROP IN @ BLK @ QUIT ;S\
\
175F : (ABORT) ABORT ;S\
\
171B : -FIND BL WORD BL HERE COUNT + C! HERE CONTEXT @ @ (FIND) DUP 0= 0BRANCH 0\
01A CONTEXT @ @ LATEST = 0= 0BRANCH 000A DROP HERE LATEST (FIND) ;S\
\
16C4 : NUMBER 0 0 ROT DUP 1+ C@ CLIT 2D = DUP >R + LIT FFFF DPL ! (NUMBER) DUP C\
@ BL - 0BRANCH 0015 DUP C@ CLIT 2E - 0 ?ERROR 0 BRANCH FFDD DROP R> 0BRANCH 0004\
\pard\pardeftab720\sl360\sa240\partightenfactor0
\cf2 DMINUS ;S 
\f3\fs24 \
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 1677 : (NUMBER) 1+ DUP >R C@ BASE @ DIGIT 0BRANCH 002C SWAP BASE @ U* DROP ROT B\
ASE @ U* D+ DPL @ 1+ 0BRANCH 0008 1 DPL +! R> BRANCH FFC6 R> ;S\
\
\pard\pardeftab720\sl360\sa240\partightenfactor0
\cf2 1629 : WORD BLK @ 0BRANCH 000C BLK @ BLOCK BRANCH 0006 TIB @ IN @ + SWAP ENCLOSE HERECLIT22BLANKSIN+!OVER->RRHEREC!+HERE1+R>1+CMOVE ;S 
\f3\fs24 \
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 1618 : PAD HERE CLIT 44 + ;S\
\
15FF : HOLD LIT FFFF HLD +! HLD @ C! ;S\
\
15EE : BLANKS BL FILL ;S\
\
15DE : ERASE 0 FILL ;S\
\
\\ WORD NAME = 1 SPACE.  HIDDEN?\
15C2 :   BLK @ 0BRANCH 000A \
0 IN ! ?EXEC \
R> DROP \
;S\
\
15A7 : QUERY TIB @ CLIT 50 EXPECT 0 IN ! ;S\
\
14B6 : EXPECT\
OVER + OVER (DO) \
  KEYESC[ DUP CLIT 15 = 0BRANCH 003D \
  DROP CH C@ CV C@ BCALC + C@ CLIT 3F AND \
  DUP CLIT 1D < 0BRANCH 0007 \
  CLIT 40 OR LIT FBF4 CALL \
  I C! 0 I 1+ ! BRANCH 0090 \
  DUP CLIT 08 = 0BRANCH 002B \
  DROP CLIT 08 OVER I = DUP 0BRANCH 0008 \
  0 I ! DUP R> 2 - + >R - BRANCH 005A \
  DUP CLIT 0D = 0BRANCH 0013 \
  0 I ! DROP CLIT 20 LEAVE \
  BRANCH 003E\
  DUP CLIT 18 = 0BRANCH 0025 \
  DROP 0 OVER C! 0 OVER 1+ C! \
  CLIT 58 EMIT CLIT 58 EMIT \
  CLIT 58 LEAVE \
  BRANCH 0010 \
  DUP I C! 0 I 1+ ! EMIT \
(LOOP) FF28 \
DROP\
;S\
\
1488 : ." \
CLIT 22 STATE @ 0BRANCH 0014 \
COMPILE (.") \
WORD HERE C@ 1+ ALLOT \
BRANCH 000A \
WORD HERE COUNT TYPE \
;S\
\
146D : (.") \
R COUNT DUP 1+ R> + >R TYPE \
;S\
\
1435 : -TRAILING \
DUP \
0 (DO) \
  OVER OVER + 1 - C@ BL - \
  0BRANCH 0008 \
  LEAVE BRANCH 0006 \
  1 - \
(LOOP) \
FFE0 \
;S\
\
140C : TYPE \
-DUP 0BRANCH 0018 \
OVER + SWAP (DO) \
  I C@ EMIT \
(LOOP) FFF8 \
BRANCH 0004\
DROP \
;S\
\
13F8 : COUNT DUP 1+ SWAP C@ ;S\
\
13C6 : DOES> R> LATEST PFA ! (;CODE)
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 13DA-   A5 DA       LDA   $DA\
13DC-   48          PHA\
13DD-   A5 D9       LDA   $D9\
13DF-   48          PHA\
13E0-   A0 02       LDY   #$02\
13E2-   B1 DC       LDA   ($DC),Y\
13E4-   85 D9       STA   $D9\
13E6-   C8          INY\
13E7-   B1 DC       LDA   ($DC),Y\
13E9-   85 DA       STA   $DA\
13EB-   18          CLC\
13EC-   A5 DC       LDA   $DC\
13EE-   69 04       ADC   #$04\
13F0-   48          PHA\
13F1-   A5 DD       LDA   $DD\
13F3-   69 00       ADC   #$00\
13F5-   4C B1 08    JMP   $08B1
\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 \
13B4 : <BUILDS 0 CONSTANT ;S\
\
139E : ;CODE ?CSP COMPILE (;CODE) [ ASSEMBLER ;S\
\
1386 : (;CODE) R> LATEST PFA CFA ! ;S\
\
1371 : DECIMAL CLIT 0A BASE ! ;S\
\
1360 : HEX CLIT 10 BASE ! ;S\
\
134C : SMUDGE LATEST CLIT 20 TOGGLE ;S\
\
133D : ] CLIT C0 STATE ! ;S\
\
132F : [ 0 STATE ! ;S\
\
1313 : COMPILE ?COMP R> DUP 2+ >R @ , ;S\
\
12F9 : ?LOADING BLK @ 0= CLIT 16 ?ERROR ;S\
\
12E1 : ?CSP SP@ CSP @ - CLIT 14 ?ERROR ;S\
\
12CD : ?PAIRS - CLIT 13 ?ERROR ;S\
\
12B8 : ?EXEC STATE @ CLIT 12 ?ERROR ;S\
\
12A1 : ?COMP STATE @ 0= CLIT 11 ?ERROR ;S\
\
1286 : ?ERROR SWAP 0BRANCH 0008 ERROR BRANCH 0004 DROP ;S\
\
1275 : !CSP SP@ CSP ! ;S\
\
1262 : PFA 1 TRAVERSE CLIT 05 + ;S\
\
124D : NFA CLIT 05 - LIT FFFF TRAVERSE ;S\
\
123F : CFA 2 - ;S\
\
1230 : LFA CLIT 04 - ;S\
\
121D : LATEST CURRENT @ @ ;S\
\
11F7 : TRAVERSE 	\\ SKIP OVER NAME OF WORD\
SWAP \
OVER + \
CLIT 7F OVER \
C@ < 0BRANCH FFF1 \
SWAP \
DROP \
;S\
\
11DC : U< >R 0 R> 0 DMINUS D+ SWAP DROP 0< ;S\
\
11C9 : -DUP DUP 0BRANCH 0004 DUP ;S\
\
11B9 : SPACE BL EMIT ;S\
\
11AB : ROT 3 ROLL ;S\
\
119F : > SWAP < ;S\
\
1193 : = - 0= ;S\
\
1187 : - MINUS + ;S\
\
1176 : C, HERE C! 1 ALLOT ;S\
\
1166 : , HERE ! 2 ALLOT ;S\
\
1156 : ALLOT DP +! ;S\
\
1147 : HERE DP @ ;S\
\
\pard\pardeftab720\sl360\sa240\partightenfactor0
\cf2 113A : 2+ 2 + ;S 
\f3\fs24 \
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 113A : 2+ 2 + ;S\
\
112D : 1+ 1 + ;S\
\
1120 : DISKMAX 0FA2	\\ USER VAR $42 = $2032 = REBOOT\
1116 : SLOT 0FA2		\\ USER VAR $40 = $205B\
110D : HLD 0FA2		\\ USER VAR $3E = $2021\
1105 : R# 0FA2			\\ USER VAR $3C = $204C\
10FC : CSP 0FA2		\\ USER VAR $3A = $4152\
10F3 : FLD 0FA2		\\ USER VAR $38 = $4554\
10EA : DPL 0FA2		\\ USER VAR $36 = $494C\
10E0 : BASE 0FA2		\\ USER VAR $34 = $2054\
10D5 : STATE 0FA2		\\ USER VAR $32 = $4F4F\
10C8 : CURRENT 0FA2	\\ USER VAR $30 = $4241\
10BB : CONTEXT 0FA2	\\ USER VAR $2E = $2021\
10AF : OFFSET 0FA2		\\ USER VAR $2C = $2020\
10A6 : SCR 0FA2		\\ USER VAR $2A = $202B\
109D : OUT 0FA2		\\ USER VAR $28 = $3220\
1095 : IN 0FA2			\\ USER VAR $26 = $2120\
108C : BLK 0FA2		\\ USER VAR $24 = $5245\
1083 : C/L 0FA2		\\ USER VAR $1E = $0003\
1079 : PREV 0FA2		\\ USER VAR $1C = $0000\
1070 : USE 0FA2		\\ USER VAR $1A = $0000\
1065 : LIMIT 0FA2		\\ USER VAR $18 = $0000\
105A : FIRST 0FA2		\\ USER VAR $16 = $0028\
104C : VOC-LINK 0FA2	\\ USER VAR $14 = $8404\
1044 : DP 0FA2			\\ USER VAR $12 = $9414\
1039 : FENCE 0FA2		\\ USER VAR $10 = $B434\
102C : WARNING 0FA2	\\ USER VAR $0E = $8404\
1021 : WIDTH 0FA2		\\ USER VAR $0C = $60F2\
1018 : TIB 0FA2		\\ USER VAR $0A = $819B\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
TIB: $830 + (($A-1) * 2) = $842 WHICH HAS $9B $81\
\
0830- 18 81 08 00 30 08 BD 00\
0838- FF 01 00 01 1F 00 00 00\
0840- 38 27 9B 81 F2 60 04 84\
0848- 34 B4 14 94 04 84 28 00\
0850- 00 00 00 00 00 00 03 00\
0858- C4 9A 23 00 00 00 94 19\
0860- 94 19 00 00 0A 00 FF FF\
0868- 52 47 B1 00 20 40 DD 81\
0870- 01 00 17 01 4F 56 45 52\
0878- 20 21 20 32 2B 20 20 20\
0880- 21 20 41 42 4F 4F 54 20\
0888- 4C 49 54 45 52 41 4C 20\
0890- 21 20 5B 20 32 20 43 53\
\
*819B.81CF\
\
819B- 03 4D 4F 4E 20				\\ \'93MON\'94 = LAST COMMAND TYPED IN FORTH\
81A0- 20 20 20 20 20 20 20 20\
81A8- 20 20 20 20 20 20 20 20\
81B0- 20 20 20 20 20 20 20 20\
81B8- 20 20 20 20 20 20 20 20\
81C0- 20 20 20 20 20 20 20 20\
81C8- 20 20 20 20 20 20 20 20\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
100F : CV 0F05		\\ CONSTANT $0025 = ADDRESS 37\
1006 : CH 0F05		\\ CONSTANT $0024 = ADDRESS 36\
\
0FF2 : +ORIGIN LIT 0800 + ;S\
\
0FE6 : B/SCR 0F05  \\ CONSTANT 1 = buffers per screen\
0FDA : B/BUF 0F05	\\ CONSTANT $0400 = bytes per buffer\
0FD1 : BL 0F05 	\\ CONSTANT $20\
0FC9 : 3 0F05  	\\ CONSTANT 3\
0FC1 : 2 0F05  	\\ CONSTANT 2\
0FB9 : 1 0F05  	\\ CONSTANT 1\
0FB1 : 0 0F05		\\ CONSTANT 0\
\
0F95 : USER CONSTANT (;CODE)
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 0FA2-   A0 02       LDY   #$02\
0FA4-   18          CLC\
0FA5-   B1 DC       LDA   ($DC),Y\
0FA7-   65 DE       ADC   $DE\
0FA9-   48          PHA\
0FAA-   A9 00       LDA   #$00\
0FAC-   65 DF       ADC   $DF\
0FAE-   4C B1 08    JMP   $08B1
\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
00DC- 88 1E 30 08\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
0F73 : 2CONSTANT 2VARIABLE (;CODE)\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0F85-   18          CLC\
0F86-   A5 DC       LDA   $DC\
0F88-   69 02       ADC   #$02\
0F8A-   85 D1       STA   $D1\
0F8C-   A5 DD       LDA   $DD\
0F8E-   69 00       ADC   #$00\
0F90-   85 D2       STA   $D2\
0F92-   4C 39 0F    JMP   $0F39\
\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
0F5F : 2VARIABLE VARIABLE , ;S\
\
0F46 : 2! 0F4D
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 0F4D-   A9 01       LDA   #$01\
0F4F-   20 E0 08    JSR   $08E0\
0F52-   B5 00       LDA   $00,X\
0F54-   91 D1       STA   ($D1),Y\
0F56-   E8          INX\
0F57-   C8          INY\
0F58-   C0 04       CPY   #$04\
0F5A-   D0 F6       BNE   $0F52\
0F5C-   4C B8 08    JMP   $08B8\
\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
0F2D : 2@ 0F34\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0F34-   A9 01       LDA   #$01\
0F36-   20 E0 08    JSR   $08E0\
0F39-   A0 03       LDY   #$03\
0F3B-   CA          DEX\
0F3C-   B1 D1       LDA   ($D1),Y\
0F3E-   95 00       STA   $00,X\
0F40-   88          DEY\
0F41-   10 F8       BPL   $0F3B\
0F43-   4C B8 08    JMP   $08B8\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
0F10 : VARIABLE CONSTANT (;CODE)\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0F21-   18          CLC\
0F22-   A5 DC       LDA   $DC\
0F24-   69 02       ADC   #$02\
0F26-   48          PHA\
0F27-   98          TYA\
0F28-   65 DD       ADC   $DD\
0F2A-   4C B1 08    JMP   $08B1\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
0EF2 : CONSTANT CREATE , (;CODE)\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0F05-   A0 02       LDY   #$02\
0F07-   B1 DC       LDA   ($DC),Y\
0F09-   48          PHA\
0F0A-   C8          INY\
0F0B-   B1 DC       LDA   ($DC),Y\
0F0D-   4C B1 08    JMP   $08B1\
\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
0EE5 : EMIT (EMIT) ;S\
\
0ED3 : ; ?CSP COMPILE ;S SMUDGE [ ;S\
\
0EA4 : : ?EXEC !CSP CURRENT @ CONTEXT ! CREATE SMUDGE ] (;CODE)\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0EBC-   90 13       BCC   $0ED1\
0EBE-   A5 DA       LDA   $DA\
0EC0-   48          PHA\
0EC1-   A5 D9       LDA   $D9\
0EC3-   48          PHA\
0EC4-   18          CLC\
0EC5-   A5 DC       LDA   $DC\
0EC7-   69 02       ADC   #$02\
0EC9-   85 D9       STA   $D9\
0ECB-   98          TYA\
0ECC-   65 DD       ADC   $DD\
0ECE-   85 DA       STA   $DA\
0ED0-   4C B8 08    JMP   $08B8\
\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
0E7E : BCALC 0E88\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0E88-   B5 00       LDA   $00,X\
0E8A-   4A          LSR\
0E8B-   29 03       AND   #$03\
0E8D-   09 04       ORA   #$04\
0E8F-   95 01       STA   $01,X\
0E91-   B5 00       LDA   $00,X\
0E93-   29 18       AND   #$18\
0E95-   90 02       BCC   $0E99\
0E97-   69 7F       ADC   #$7F\
0E99-   95 00       STA   $00,X\
0E9B-   0A          ASL\
0E9C-   0A          ASL\
0E9D-   15 00       ORA   $00,X\
0E9F-   95 00       STA   $00,X\
0EA1-   4C B8 08    JMP   $08B8\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
0E4D : -TEXT 0E57
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 0E57-   A9 03       LDA   #$03\
0E59-   20 E0 08    JSR   $08E0\
0E5C-   84 D4       STY   $D4\
0E5E-   A4 D3       LDY   $D3\
0E60-   38          SEC\
0E61-   88          DEY\
0E62-   30 0B       BMI   $0E6F\
0E64-   B1 D5       LDA   ($D5),Y\
0E66-   F1 D1       SBC   ($D1),Y\
0E68-   05 D4       ORA   $D4\
0E6A-   85 D4       STA   $D4\
0E6C-   4C 61 0E    JMP   $0E61\
0E6F-   98          TYA\
0E70-   90 07       BCC   $0E79\
0E72-   C8          INY\
0E73-   A5 D4       LDA   $D4\
0E75-   F0 02       BEQ   $0E79\
0E77-   A9 01       LDA   #$01\
0E79-   48          PHA\
0E7A-   98          TYA\
0E7B-   4C B1 08    JMP   $08B1\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
0E25 : ROLL 0E2E
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 0E2E-   20 06 0E    JSR   $0E06\
0E31-   E4 E0       CPX   $E0\
0E33-   30 02       BMI   $0E37\
0E35-   D0 05       BNE   $0E3C\
0E37-   A6 E0       LDX   $E0\
0E39-   4C CA 09    JMP   $09CA\
0E3C-   48          PHA\
0E3D-   B5 01       LDA   $01,X\
0E3F-   B4 FF       LDY   $FF,X\
0E41-   94 01       STY   $01,X\
0E43-   CA          DEX\
0E44-   E4 E0       CPX   $E0\
0E46-   D0 F7       BNE   $0E3F\
0E48-   E8          INX\
0E49-   E8          INX\
0E4A-   4C B3 08    JMP   $08B3\
\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
0E11 : PICK 0E1A
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 0E1A-   20 06 0E    JSR   $0E06\
0E1D-   48          PHA\
0E1E-   B5 01       LDA   $01,X\
0E20-   A6 E0       LDX   $E0\
0E22-   4C B3 08    JMP   $08B3\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \\ SUBROUTINE - \
0E06-   86 E0       STX   $E0\
0E08-   B5 00       LDA   $00,X\
0E0A-   0A          ASL\
0E0B-   65 E0       ADC   $E0\
0E0D-   AA          TAX\
0E0E-   B5 00       LDA   $00,X\
0E10-   60          RTS\
\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
0DF8 : C! 0DFF\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0DFF-   B5 02       LDA   $02,X\
0E01-   81 00       STA   ($00,X)\
0E03-   4C C8 09    JMP   $09C8\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
0DE1 : ! 0DE7
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 0DE7-   B5 02       LDA   $02,X\
0DE9-   81 00       STA   ($00,X)\
0DEB-   F6 00       INC   $00,X\
0DED-   D0 02       BNE   $0DF1\
0DEF-   F6 01       INC   $01,X\
0DF1-   B5 03       LDA   $03,X\
0DF3-   81 00       STA   ($00,X)\
0DF5-   4C C8 09    JMP   $09C8\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
0DD1 : C@ 0DD8
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 0DD8-   A1 00       LDA   ($00,X)\
0DDA-   95 00       STA   $00,X\
0DDC-   94 01       STY   $01,X\
0DDE-   4C B8 08    JMP   $08B8
\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 \
0DBD : @ 0DC3
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 0DC3-   A1 00       LDA   ($00,X)\
0DC5-   48          PHA\
0DC6-   F6 00       INC   $00,X\
0DC8-   D0 02       BNE   $0DCC\
0DCA-   F6 01       INC   $01,X\
0DCC-   A1 00       LDA   ($00,X)\
0DCE-   4C B3 08    JMP   $08B3\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 0DA9 : TOGGLE 0DB4			\\ APPLY A BIT MASK\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0DB4-   A1 02       LDA   ($02,X)\
0DB6-   55 00       EOR   $00,X\
0DB8-   81 02       STA   ($02,X)\
0DBA-   4C C8 09    JMP   $09C8
\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 \
0D8C : +! 0D93
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 0D93-   18          CLC\
0D94-   A1 00       LDA   ($00,X)\
0D96-   75 02       ADC   $02,X\
0D98-   81 00       STA   ($00,X)\
0D9A-   F6 00       INC   $00,X\
0D9C-   D0 02       BNE   $0DA0\
0D9E-   F6 01       INC   $01,X\
0DA0-   A1 00       LDA   ($00,X)\
0DA2-   75 03       ADC   $03,X\
0DA4-   81 00       STA   ($00,X)\
0DA6-   4C C8 09    JMP   $09C8\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 0D7C : DUP 0D84\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0D84-   B5 00       LDA   $00,X\
0D86-   48          PHA\
0D87-   B5 01       LDA   $01,X\
0D89-   4C B1 08    JMP   $08B1\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
0D63 : SWAP 0D6C
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 0D6C-   B5 02       LDA   $02,X\
0D6E-   48          PHA\
0D6F-   B5 00       LDA   $00,X\
0D71-   95 02       STA   $02,X\
0D73-   B5 03       LDA   $03,X\
0D75-   B4 01       LDY   $01,X\
0D77-   94 03       STY   $03,X\
0D79-   4C B3 08    JMP   $08B3\
\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
0D5A : DROP 09CA\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 09CA-   E8          INX\
09CB-   E8          INX\
09CC-   4C B8 08    JMP   $08B8
\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 \
0D49 : OVER 0D52
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 0D52-   B5 02       LDA   $02,X\
0D54-   48          PHA\
0D55-   B5 03       LDA   $03,X\
0D57-   4C B1 08    JMP   $08B1\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
0D30 : DMINUS 0D3B
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 0D3B-   38          SEC\
0D3C-   98          TYA\
0D3D-   F5 02       SBC   $02,X\
0D3F-   95 02       STA   $02,X\
0D41-   98          TYA\
0D42-   F5 03       SBC   $03,X\
0D44-   95 03       STA   $03,X\
0D46-   4C 23 0D    JMP   $0D23
\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 \
0D18 : MINUS 0D22
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 0D22-   38          SEC\
0D23-   98          TYA\
0D24-   F5 00       SBC   $00,X\
0D26-   95 00       STA   $00,X\
0D28-   98          TYA\
0D29-   F5 01       SBC   $01,X\
0D2B-   95 01       STA   $01,X\
0D2D-   4C B8 08    JMP   $08B8
\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 \
0CF5 : D+ 0CFC
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 0CFC-   18          CLC\
0CFD-   B5 02       LDA   $02,X\
0CFF-   75 06       ADC   $06,X\
0D01-   95 06       STA   $06,X\
0D03-   B5 03       LDA   $03,X\
0D05-   75 07       ADC   $07,X\
0D07-   95 07       STA   $07,X\
0D09-   B5 00       LDA   $00,X\
0D0B-   75 04       ADC   $04,X\
0D0D-   95 04       STA   $04,X\
0D0F-   B5 01       LDA   $01,X\
0D11-   75 05       ADC   $05,X\
0D13-   95 05       STA   $05,X\
0D15-   4C C8 09    JMP   $09C8\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\sa240\partightenfactor0
\cf2 0CDD : + 0CE3 \
\pard\pardeftab720\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0CE3-   18          CLC\
0CE4-   B5 00       LDA   $00,X\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 0CE6-   75 02       ADC   $02,X\
0CE8-   95 02       STA   $02,X\
0CEA-   B5 01       LDA   $01,X\
0CEC-   75 03       ADC   $03,X\
0CEE-   95 03       STA   $03,X\
0CF0-   E8          INX\
0CF1-   E8          INX\
0CF2-   4C B8 08    JMP   $08B8\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
0CC0 : < 0CC6\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0CC6-   38          SEC\
0CC7-   B5 02       LDA   $02,X\
0CC9-   F5 00       SBC   $00,X\
0CCB-   B5 03       LDA   $03,X\
0CCD-   F5 01       SBC   $01,X\
0CCF-   94 03       STY   $03,X\
0CD1-   50 02       BVC   $0CD5\
0CD3-   49 80       EOR   #$80\
0CD5-   10 01       BPL   $0CD8\
0CD7-   C8          INY\
0CD8-   94 02       STY   $02,X\
0CDA-   4C CA 09    JMP   $09CA\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
0CAE : 0< 0CB5\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0CB5-   16 01       ASL   $01,X\
0CB7-   98          TYA\
0CB8-   2A          ROL\
0CB9-   94 01       STY   $01,X\
0CBB-   95 00       STA   $00,X\
0CBD-   4C B8 08    JMP   $08B8\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
0C99 : 0= 0CA0
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 0CA0-   B5 00       LDA   $00,X\
0CA2-   15 01       ORA   $01,X\
0CA4-   94 01       STY   $01,X\
0CA6-   D0 01       BNE   $0CA9\
0CA8-   C8          INY\
0CA9-   94 00       STY   $00,X\
0CAB-   4C B8 08    JMP   $08B8\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 0C84 : R 0C8A\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0C8A-   86 E0       STX   $E0\
0C8C-   BA          TSX\
0C8D-   BD 01 01    LDA   $0101,X\
0C90-   48          PHA\
0C91-   BD 02 01    LDA   $0102,X\
0C94-   A6 E0       LDX   $E0\
0C96-   4C B1 08    JMP   $08B1\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
0C72 : R> 0C79
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 0C79-   CA          DEX\
0C7A-   CA          DEX\
0C7B-   68          PLA\
0C7C-   95 00       STA   $00,X\
0C7E-   68          PLA\
0C7F-   95 01       STA   $01,X\
0C81-   4C B8 08    JMP   $08B8
\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 \
0C60 : >R 0C67\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0C67-   B5 01       LDA   $01,X\
0C69-   48          PHA\
0C6A-   B5 00       LDA   $00,X\
0C6C-   48          PHA\
0C6D-   E8          INX\
0C6E-   E8          INX\
0C6F-   4C B8 08    JMP   $08B8\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 0C42 : LEAVE 0C4C
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 0C4C-   86 E0       STX   $E0\
0C4E-   BA          TSX\
0C4F-   BD 01 01    LDA   $0101,X\
0C52-   9D 03 01    STA   $0103,X\
0C55-   BD 02 01    LDA   $0102,X\
0C58-   9D 04 01    STA   $0104,X\
0C5B-   A6 E0       LDX   $E0\
0C5D-   4C B8 08    JMP   $08B8\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 0C32 : ;S 0C39
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 0C39-   68          PLA\
0C3A-   85 D9       STA   $D9\
0C3C-   68          PLA\
0C3D-   85 DA       STA   $DA\
0C3F-   4C B8 08    JMP   $08B8
\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 \
0C1D : RP! 0C25
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 0C25-   86 E0       STX   $E0\
0C27-   A0 08       LDY   #$08\
0C29-   B1 DE       LDA   ($DE),Y\
0C2B-   AA          TAX\
0C2C-   9A          TXS\
0C2D-   A6 E0       LDX   $E0\
0C2F-   4C B8 08    JMP   $08B8
\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 \
0C0D : SP! 0C15\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0C15-   A0 06       LDY   #$06\
0C17-   B1 DE       LDA   ($DE),Y\
0C19-   AA          TAX\
0C1A-   4C B8 08    JMP   $08B8\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
0BFE : SP@ 0C06
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 0C06-   8A          TXA\
0C07-   48          PHA\
0C08-   A9 00       LDA   #$00\
0C0A-   4C B1 08    JMP   $08B1
\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 \
0BE8 : XOR 0BF0\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0BF0-   B5 00       LDA   $00,X\
0BF2-   55 02       EOR   $02,X\
0BF4-   48          PHA\
0BF5-   B5 01       LDA   $01,X\
0BF7-   55 03       EOR   $03,X\
0BF9-   E8          INX\
0BFA-   E8          INX\
0BFB-   4C B3 08    JMP   $08B3\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
0BD3 : OR 0BDA\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0BDA-   B5 00       LDA   $00,X\
0BDC-   15 02       ORA   $02,X\
0BDE-   48          PHA\
0BDF-   B5 01       LDA   $01,X\
0BE1-   15 03       ORA   $03,X\
0BE3-   E8          INX\
0BE4-   E8          INX\
0BE5-   4C B3 08    JMP   $08B3\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 0BBD : AND 0BC5
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 0BC5-   B5 00       LDA   $00,X\
0BC7-   35 02       AND   $02,X\
0BC9-   48          PHA\
0BCA-   B5 01       LDA   $01,X\
0BCC-   35 03       AND   $03,X\
0BCE-   E8          INX\
0BCF-   E8          INX\
0BD0-   4C B3 08    JMP   $08B3\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 0B81 : U/ 0B88\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0B88-   B5 04       LDA   $04,X\
0B8A-   B4 02       LDY   $02,X\
0B8C-   94 04       STY   $04,X\
0B8E-   0A          ASL\
0B8F-   95 02       STA   $02,X\
0B91-   B5 05       LDA   $05,X\
0B93-   B4 03       LDY   $03,X\
0B95-   94 05       STY   $05,X\
0B97-   2A          ROL\
0B98-   95 03       STA   $03,X\
0B9A-   A9 10       LDA   #$10\
0B9C-   85 D1       STA   $D1\
0B9E-   36 04       ROL   $04,X\
0BA0-   36 05       ROL   $05,X\
0BA2-   38          SEC\
0BA3-   B5 04       LDA   $04,X\
0BA5-   F5 00       SBC   $00,X\
0BA7-   A8          TAY\
0BA8-   B5 05       LDA   $05,X\
0BAA-   F5 01       SBC   $01,X\
0BAC-   90 04       BCC   $0BB2\
0BAE-   94 04       STY   $04,X\
0BB0-   95 05       STA   $05,X\
0BB2-   36 02       ROL   $02,X\
0BB4-   36 03       ROL   $03,X\
0BB6-   C6 D1       DEC   $D1\
0BB8-   D0 E4       BNE   $0B9E\
0BBA-   4C CA 09    JMP   $09CA\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
0B49 : U* 0B50\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0B50-   B5 02       LDA   $02,X\
0B52-   85 D1       STA   $D1\
0B54-   94 02       STY   $02,X\
0B56-   B5 03       LDA   $03,X\
0B58-   85 D2       STA   $D2\
0B5A-   94 03       STY   $03,X\
0B5C-   A0 10       LDY   #$10\
0B5E-   16 02       ASL   $02,X\
0B60-   36 03       ROL   $03,X\
0B62-   36 00       ROL   $00,X\
0B64-   36 01       ROL   $01,X\
0B66-   90 13       BCC   $0B7B\
0B68-   18          CLC\
0B69-   A5 D1       LDA   $D1\
0B6B-   75 02       ADC   $02,X\
0B6D-   95 02       STA   $02,X\
0B6F-   A5 D2       LDA   $D2\
0B71-   75 03       ADC   $03,X\
0B73-   95 03       STA   $03,X\
0B75-   A9 00       LDA   #$00\
0B77-   75 00       ADC   $00,X\
0B79-   95 00       STA   $00,X\
0B7B-   88          DEY\
0B7C-   D0 E0       BNE   $0B5E\
0B7E-   4C B8 08    JMP   $08B8\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
0B20 : FILL 0B29\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0B29-   A9 03       LDA   #$03\
0B2B-   20 E0 08    JSR   $08E0\
0B2B-   20 E0 08    JSR   $08E0\
0B2E-   A5 D4       LDA   $D4\
0B30-   30 0A       BMI   $0B3C\
0B32-   A5 D1       LDA   $D1\
0B34-   C4 D3       CPY   $D3\
0B36-   D0 07       BNE   $0B3F\
0B38-   C6 D4       DEC   $D4\
0B3A-   10 03       BPL   $0B3F\
0B3C-   4C B8 08    JMP   $08B8\
0B3F-   91 D5       STA   ($D5),Y\
0B41-   C8          INY\
0B42-   D0 F0       BNE   $0B34\
0B44-   E6 D6       INC   $D6\
0B46-   4C 34 0B    JMP   $0B34
\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 \
0AF7 : CMOVE  0B02\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0B02-   A9 03       LDA   #$03\
0B04-   20 E0 08    JSR   $08E0\
0B07-   C4 D1       CPY   $D1\
0B09-   D0 07       BNE   $0B12\
0B0B-   C6 D2       DEC   $D2\
0B0D-   10 03       BPL   $0B12\
0B0F-   4C B8 08    JMP   $08B8\
0B12-   B1 D5       LDA   ($D5),Y\
0B14-   91 D3       STA   ($D3),Y\
0B16-   C8          INY\
0B17-   D0 EE       BNE   $0B07\
0B19-   E6 D6       INC   $D6\
0B1B-   E6 D4       INC   $D4\
0B1D-   4C 07 0B    JMP   $0B07\
\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
0AEB : KEYESC[ 1E54\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 1E54-   20 35 FD    JSR   $FD35\
1E57-   29 7F       AND   #$7F\
1E59-   C9 1D       CMP   #$1D\
1E5B-   D0 02       BNE   $1E5F\
1E5D-   A9 5B       LDA   #$5B\
1E5F-   4C 07 0C    JMP   $0C07\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
0AE4 : CR 1E4C\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 1E4C-   A9 8D       LDA   #$8D\
1E4E-   20 ED FD    JSR   $FDED\
1E51-   4C B8 08    JMP   $08B8\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
0AD6 : ?TERMINAL 1E3A\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 1E3A-   2C 00 C0    BIT   $C000\
1E3D-   10 09       BPL   $1E48\
1E3F-   2C 10 C0    BIT   $C010\
1E42-   2C 00 C0    BIT   $C000\
1E45-   30 F8       BMI   $1E3F\
1E47-   C8          INY\
1E48-   98          TYA\
1E49-   4C 07 0C    JMP   $0C07\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
0ACE : KEY 1E32\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 1E32-   20 0C FD    JSR   $FD0C\
1E35-   29 7F       AND   #$7F\
1E37-   4C 07 0C    JMP   $0C07\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
0AC3 : (EMIT) 1E14
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 1E14-   86 E0       STX   $E0\
1E16-   B5 00       LDA   $00,X\
1E18-   09 80       ORA   #$80\
1E1A-   20 ED FD    JSR   $FDED\
1E1D-   A6 E0       LDX   $E0\
1E1F-   18          CLC\
1E20-   A0 28       LDY   #$28\
1E22-   B1 DE       LDA   ($DE),Y\
1E24-   69 01       ADC   #$01\
1E26-   91 DE       STA   ($DE),Y\
1E28-   C8          INY\
1E29-   B1 DE       LDA   ($DE),Y\
1E2B-   69 00       ADC   #$00\
1E2D-   91 DE       STA   ($DE),Y\
1E2F-   4C CA 09    JMP   $09CA
\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 \
0A74 : ENCLOSE 0A80\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0A6A-   C8          INY\
0A6B-   D0 06       BNE   $0A73\
0A6D-   F6 01       INC   $01,X\
0A6F-   F6 03       INC   $03,X\
0A71-   E6 D4       INC   $D4\
0A73-   60          RTS\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0A80-   A9 02       LDA   #$02\
0A82-   20 E0 08    JSR   $08E0\
0A85-   8A          TXA\
0A86-   38          SEC\
0A87-   E9 08       SBC   #$08\
0A89-   AA          TAX\
0A8A-   94 01       STY   $01,X\
0A8C-   94 03       STY   $03,X\
0A8E-   B1 D3       LDA   ($D3),Y\
0A90-   C5 D1       CMP   $D1\
0A92-   D0 06       BNE   $0A9A\
0A94-   20 6A 0A    JSR   $0A6A\
0A97-   4C 8E 0A    JMP   $0A8E\
0A9A-   B5 03       LDA   $03,X\
0A9C-   95 05       STA   $05,X\
0A9E-   94 04       STY   $04,X\
0AA0-   B1 D3       LDA   ($D3),Y\
0AA2-   D0 07       BNE   $0AAB\
0AA4-   94 02       STY   $02,X\
0AA6-   94 00       STY   $00,X\
0AA8-   4C B8 08    JMP   $08B8\
0AAB-   C5 D1       CMP   $D1\
0AAD-   F0 06       BEQ   $0AB5\
0AAF-   20 6A 0A    JSR   $0A6A\
0AB2-   4C A0 0A    JMP   $0AA0\
0AB5-   94 02       STY   $02,X\
0AB7-   B5 03       LDA   $03,X\
0AB9-   20 6A 0A    JSR   $0A6A\
0ABC-   95 03       STA   $03,X\
0ABE-   94 00       STY   $00,X\
0AC0-   4C B8 08    JMP   $08B8\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
0A05 : (FIND) 0A10\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0A10-   A9 02       LDA   #$02\
0A12-   20 E0 08    JSR   $08E0\
0A15-   86 E0       STX   $E0\
0A17-   A0 00       LDY   #$00\
0A19-   B1 D1       LDA   ($D1),Y\
0A1B-   51 D3       EOR   ($D3),Y\
0A1D-   29 3F       AND   #$3F\
0A1F-   D0 2D       BNE   $0A4E\
0A21-   C8          INY\
0A22-   B1 D1       LDA   ($D1),Y\
0A24-   51 D3       EOR   ($D3),Y\
0A26-   0A          ASL\
0A27-   D0 23       BNE   $0A4C\
0A29-   90 F6       BCC   $0A21\
0A2B-   A6 E0       LDX   $E0\
0A2D-   CA          DEX\
0A2E-   CA          DEX\
0A2F-   CA          DEX\
0A30-   CA          DEX\
0A31-   18          CLC\
0A32-   98          TYA\
0A33-   69 05       ADC   #$05\
0A35-   65 D1       ADC   $D1\
0A37-   95 02       STA   $02,X\
0A39-   A0 00       LDY   #$00\
0A3B-   98          TYA\
0A3C-   65 D2       ADC   $D2\
0A3E-   95 03       STA   $03,X\
0A40-   94 01       STY   $01,X\
0A42-   B1 D1       LDA   ($D1),Y\
0A44-   95 00       STA   $00,X\
0A46-   A9 01       LDA   #$01\
0A48-   48          PHA\
0A49-   4C B1 08    JMP   $08B1\
0A4C-   B0 05       BCS   $0A53\
0A4E-   C8          INY\
0A4F-   B1 D1       LDA   ($D1),Y\
0A51-   10 FB       BPL   $0A4E\
0A53-   C8          INY\
0A54-   B1 D1       LDA   ($D1),Y\
0A56-   AA          TAX\
0A57-   C8          INY\
0A58-   B1 D1       LDA   ($D1),Y\
0A5A-   85 D2       STA   $D2\
0A5C-   86 D1       STX   $D1\
0A5E-   05 D1       ORA   $D1\
0A60-   D0 B5       BNE   $0A17\
0A62-   A6 E0       LDX   $E0\
0A64-   A9 00       LDA   #$00\
0A66-   48          PHA\
0A67-   4C B1 08    JMP   $08B1\
\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
09D5 : DIGIT 09DF\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 09DF-   38          SEC\
09E0-   B5 02       LDA   $02,X\
09E2-   E9 30       SBC   #$30\
09E4-   30 18       BMI   $09FE\
09E6-   C9 0A       CMP   #$0A\
09E8-   30 07       BMI   $09F1\
09EA-   38          SEC\
09EB-   E9 07       SBC   #$07\
09ED-   C9 0A       CMP   #$0A\
09EF-   30 0D       BMI   $09FE\
09F1-   D5 00       CMP   $00,X\
09F3-   10 09       BPL   $09FE\
09F5-   95 02       STA   $02,X\
09F7-   A9 01       LDA   #$01\
09F9-   48          PHA\
09FA-   98          TYA\
09FB-   4C B3 08    JMP   $08B3\
09FE-   98          TYA\
09FF-   48          PHA\
0A00-   E8          INX\
0A01-   E8          INX\
0A02-   4C B3 08    JMP   $08B3\
\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
09CF : I 0C8A\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0C8A-   86 E0       STX   $E0\
0C8C-   BA          TSX\
0C8D-   BD 01 01    LDA   $0101,X\
0C90-   48          PHA\
0C91-   BD 02 01    LDA   $0102,X\
0C94-   A6 E0       LDX   $E0\
0C96-   4C B1 08    JMP   $08B1\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
09B3 : (DO) 09BC
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 09BC-   B5 03       LDA   $03,X\
09BE-   48          PHA\
09BF-   B5 02       LDA   $02,X\
09C1-   48          PHA\
09C2-   B5 01       LDA   $01,X\
09C4-   48          PHA\
09C5-   B5 00       LDA   $00,X\
09C7-   48          PHA\
09C8-   E8          INX\
09C9-   E8          INX\
\\ drop 1 value from stack\
09CA-   E8          INX\
09CB-   E8          INX\
09CC-   4C B8 08    JMP   $08B8\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
0979 : (+LOOP) 0985
\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf0 0985-   E8          INX\
0986-   E8          INX\
0987-   86 E0       STX   $E0\
0989-   B5 FF       LDA   $FF,X\
098B-   48          PHA\
098C-   48          PHA\
098D-   B5 FE       LDA   $FE,X\
098F-   BA          TSX\
0990-   E8          INX\
0991-   E8          INX\
0992-   18          CLC\
0993-   7D 01 01    ADC   $0101,X\
0996-   9D 01 01    STA   $0101,X\
0999-   68          PLA\
099A-   7D 02 01    ADC   $0102,X\
099D-   9D 02 01    STA   $0102,X\
09A0-   68          PLA\
09A1-   10 BD       BPL   $0960\
09A3-   18          CLC\
09A4-   BD 01 01    LDA   $0101,X\
09A7-   FD 03 01    SBC   $0103,X\
09AA-   BD 02 01    LDA   $0102,X\
09AD-   FD 04 01    SBC   $0104,X\
09B0-   4C 6D 09    JMP   $096D\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
094A : (LOOP) 0955\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0955-   86 E0       STX   $E0\
0957-   BA          TSX\
0958-   FE 01 01    INC   $0101,X\
095B-   D0 03       BNE   $0960\
095D-   FE 02 01    INC   $0102,X\
0960-   18          CLC\
0961-   BD 03 01    LDA   $0103,X\
0964-   FD 01 01    SBC   $0101,X\
0967-   BD 04 01    LDA   $0104,X\
096A-   FD 02 01    SBC   $0102,X\
096D-   A6 E0       LDX   $E0\
096F-   0A          ASL\
0970-   90 A3       BCC   $0915\
0972-   68          PLA\
0973-   68          PLA\
0974-   68          PLA\
0975-   68          PLA\
0976-   4C 3C 09    JMP   $093C
\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 \
0928 : 0BRANCH 0934\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0934-   E8          INX\
0935-   E8          INX\
0936-   B5 FE       LDA   $FE,X\
0938-   15 FF       ORA   $FF,X\
093A-   F0 D9       BEQ   $0915\
093C-   18          CLC\
093D-   A5 D9       LDA   $D9\
093F-   69 02       ADC   #$02\
0941-   85 D9       STA   $D9\
0943-   90 02       BCC   $0947\
0945-   E6 DA       INC   $DA\
0947-   4C B8 08    JMP   $08B8\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\pardeftab720\sl360\partightenfactor0
\cf2 090A : BRANCH 0915\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0915-   18          CLC\
0916-   B1 D9       LDA   ($D9),Y\
0918-   65 D9       ADC   $D9\
091A-   48          PHA\
091B-   C8          INY\
091C-   B1 D9       LDA   ($D9),Y\
091E-   65 DA       ADC   $DA\
0920-   85 DA       STA   $DA\
0922-   68          PLA\
0923-   85 D9       STA   $D9\
0925-   4C BA 08    JMP   $08BA\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
08F1 : EXECUTE 08FD\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 08FD-   B5 00       LDA   $00,X\
08FF-   85 DC       STA   $DC\
0901-   B5 01       LDA   $01,X\
0903-   85 DD       STA   $DD\
0905-   E8          INX\
0906-   E8          INX\
0907-   4C DB 00    JMP   $00DB\
\
EXAMPLE:\
00DB-   6C 88 1E    JMP   ($1E88)\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
08D1 : CLIT 08DA\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 08DA-   B1 D9       LDA   ($D9),Y\
08DC-   48          PHA\
08DD-   98          TYA\
08DE-   F0 CB       BEQ   $08AB\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardeftab720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \\ SUBROUTINE TO READ [ACC] # OF 2-BYTE VALUES FROM STACK\
08E0-   0A          ASL\
08E1-   85 D0       STA   $D0\
08E3-   B5 00       LDA   $00,X\
08E5-   99 D1 00    STA   $00D1,Y\
08E8-   E8          INX\
08E9-   C8          INY\
08EA-   C4 D0       CPY   $D0\
08EC-   D0 F5       BNE   $08E3\
08EE-   A0 00       LDY   #$00\
08F0-   60          RTS\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
0898 : LIT 08A0\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 08A0-   B1 D9       LDA   ($D9),Y\
08A2-   48          PHA\
08A3-   E6 D9       INC   $D9\
08A5-   D0 02       BNE   $08A9\
08A7-   E6 DA       INC   $DA\
08A9-   B1 D9       LDA   ($D9),Y\
08AB-   E6 D9       INC   $D9\
08AD-   D0 02       BNE   $08B1\
08AF-   E6 DA       INC   $DA\
\
\\ SUBROUTINE - CONTINUE PROCESSING AND GO ON TO NEXT WORD\
08B1-   CA          DEX\
08B2-   CA          DEX\
\\ SUBROUTINE - \
08B3-   95 01       STA   $01,X\
08B5-   68          PLA\
08B6-   95 00       STA   $00,X\
08B8-   A0 01       LDY   #$01\
08BA-   B1 D9       LDA   ($D9),Y\
08BC-   85 DD       STA   $DD\
08BE-   88          DEY\
08BF-   B1 D9       LDA   ($D9),Y\
08C1-   85 DC       STA   $DC\
08C3-   18          CLC\
08C4-   A5 D9       LDA   $D9\
08C6-   69 02       ADC   #$02\
08C8-   85 D9       STA   $D9\
08CA-   90 02       BCC   $08CE\
08CC-   E6 DA       INC   $DA\
08CE-   4C DB 00    JMP   $00DB\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
\
*1938:39 30		\\ UNDO PATCH FOR DISASSEMBLY\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 \
*800L\
\
0800-   EA          NOP\
0801-   4C 7A 1A    JMP   $1A7A\
0804-   EA          NOP\
0805-   4C AA 1A    JMP   $1AAA\
\
0808- 00 00 01 00 18 81 08 00		\\ 80C,80D = NFA OF TOPMOST WORD (JOT)\
0810- 30 08 BD 00 FF 01 00 01\
0818- 1F 00 00 00 38 27 9B 81\
0820- F2 60 04 84 34 B4 04 84\
0828- 04 84 28 00 00 00 00 00\
\
\pard\pardeftab720\sl360\partightenfactor0

\f1\fs32 \cf2 \expnd0\expndtw0\kerning0
ZERO PAGE:\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs22 \cf0 \kerning1\expnd0\expndtw0 0000- 4C 3C D4 4C 3A DB FF FF\
0008- FF FF 4C 99 E1 FF 00 6B\
0010- FF 00 FF 04 00 FF FF FF\
0018- FF FF FF FF FF FF FF FF\
0020- 00 28 00 18 12 17 00 FF\
0028- D0 07 D0 07 00 00 00 00\
0030- FF 00 FF AA 04 00 F0 FD\
0038- 1B FD 47 55 3C 00 B7 00\
0040- 00 00 01 70 00 08 00 D8\
0048- E8 B7 FF FF FF FF 8F 9C\
0050- 00 C0 55 FF 00 FF FF FF\
0058- FF FF FF FF FF FF 38 FF\
0060- FF FF FF FF FF FF FF 01\
0068- 08 03 08 03 08 03 08 00\
0070- C0 FF FF 00 C0 FF FF FF\
0078- FF FF 00 FF FF 00 08 FF\
0080- FF FF FF FF FF FF FF FF\
0088- FF 00 FF FF FF FF FF 03\
0090- 4C FF 00 FF FF FF FF FF\
0098- FF 00 00 00 00 83 00 00\
00A0- 00 06 00 01 80 FF 7F DB\
00A8- FF 00 00 AE 7B 91 17 20\
00B0- 00 22 00 57 08 00 00 00\
00B8- 00 FE FF 69 FF 00 00 03\
00C0- 00 EF 38 E9 30 38 E9 D0\
00C8- 60 80 4F C7 52 FF FF FF\
00D0- 04 1A 34 9B 81 00 01 00\
00D8- 00 28 34 6C 88 1E 30 08\
00E0- BD FF FF FF FF FF FF FF\
00E8- FF FF FF FF FF FF FF FF\
00F0- FF 01 00 00 FF FF FF FF\
00F8- F8 FF FF FF FF FF FF FF\
\
}
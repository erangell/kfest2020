<!--?xml version="1.0" encoding="UTF-8"?-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="Generator" content="iWeb 3.0.4">
    <meta name="iWeb-Build" content="local-build-20120303">
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">
    <meta name="viewport" content="width=700">
    <title>APPLE1 REPLICA1 OR CFFA1 AND FORTH +</title>
    <link rel="stylesheet" type="text/css" media="screen,print" href="APPLE1%20REPLICA1%20OR%20CFFA1%20AND%20FORTH%20+_files/Forth.css">
    <!--[if lt IE 8]><link rel='stylesheet' type='text/css' media='screen,print' href='Forth_files/ForthIE.css'/><![endif]-->
    <!--[if gte IE 8]><link rel='stylesheet' type='text/css' media='screen,print' href='Media/IE8.css'/><![endif]-->
    <script type="text/javascript" src="APPLE1%20REPLICA1%20OR%20CFFA1%20AND%20FORTH%20+_files/iWebSite.js"></script>
    <script type="text/javascript" src="APPLE1%20REPLICA1%20OR%20CFFA1%20AND%20FORTH%20+_files/WidgetCommon.js"></script>
    <script type="text/javascript" src="APPLE1%20REPLICA1%20OR%20CFFA1%20AND%20FORTH%20+_files/navbar.js"></script>
    <script type="text/javascript" src="APPLE1%20REPLICA1%20OR%20CFFA1%20AND%20FORTH%20+_files/Forth.js"></script>
  <style type="text/css">div#widget0 .navbar {
	font-family: 'Helvetica Neue', Arial, sans-serif;
	font-size: .8em;
	color: #666666;
	line-height: 30px;
	border-bottom: 3px solid #ccc;
}

div#widget0 .navbar-bg {
	text-align: right;}

div#widget0 .navbar-bg ul {
	list-style: none;
	margin: 0px;
	padding: 0px;
}


div#widget0 li {
	list-style-type: none;
	display: inline;
	padding: 0px 5px 0px 0px;
}


div#widget0 li a {
	text-decoration: none;
	padding: 10px;
	color: #666666;
	font-weight: bold;
}

div#widget0 li a:visited {
	text-decoration: none;
	padding: 10px;
	color: #666666;
	font-weight: bold;
}

div#widget0 li a:hover{
 	color: #999999;
	text-decoration: none;}


div#widget0 li.current-page a{	 color: #66ABC5;
	text-decoration: none;}
</style><style data-styled="" data-styled-version="4.4.1"></style><link rel="stylesheet" type="text/css" href="APPLE1%20REPLICA1%20OR%20CFFA1%20AND%20FORTH%20+_files/ForthMoz.css"></head>
  <body style="background: rgb(101, 101, 101); margin: 0pt; " onload="onPageLoad();" onunload="onPageUnload();"><link type="text/css" rel="stylesheet" href="APPLE1%20REPLICA1%20OR%20CFFA1%20AND%20FORTH%20+_files/content_script.css">
    <div style="text-align: center; ">
      <div style="margin-bottom: 10px; margin-left: auto; margin-right: auto; margin-top: 10px; overflow: hidden; position: relative; word-wrap: break-word;  background: rgb(255, 255, 255); text-align: left; width: 700px; " id="body_content">
        <div style="margin-left: 0px; position: relative; width: 700px; z-index: 0; " id="nav_layer">
          <div style="height: 0px; line-height: 0px; " class="bumper">&nbsp;</div>
          <div class="com-apple-iweb-widget-navbar flowDefining" id="widget0" style="margin-left: 20px; margin-top: 0px; opacity: 1.00; position: relative; width: 660px; z-index: 1; ">
    
            <div id="widget0-navbar" class="navbar">

      
              <div id="widget0-bg" class="navbar-bg">

        
                <ul id="widget0-navbar-list" class="navbar-list"><li class="noncurrent-page"><a href="http://schmenk.is-a-geek.com/David_Schmenks_Home_Page.html">David&nbsp;Schmenk's&nbsp;Home&nbsp;Page </a></li><li class="noncurrent-page"><a href="http://schmenk.is-a-geek.com/Vehicles.html">Vehicles </a></li><li class="noncurrent-page"><a href="http://schmenk.is-a-geek.com/RetroComputing.html">RetroComputing </a></li><li class="noncurrent-page"><a href="http://github.com/dschmenk">GitHub&nbsp;Projects </a></li><li class="noncurrent-page"><a href="http://schmenk.is-a-geek.com/wordpress/index.php">Blog </a></li><li class="noncurrent-page"><a href="http://schmenk.is-a-geek.com/oculus.html">Oculus&nbsp;All-Sky </a></li></ul>
                
      
</div>
              
    
</div>
          </div>
          <script type="text/javascript"><!--//--><![CDATA[//><!--
new NavBar('widget0', 'Scripts/Widgets/Navbar', 'Scripts/Widgets/SharedResources', '.', {"path-to-root": "", "navbar-css": ".navbar {\n\tfont-family: 'Helvetica Neue', Arial, sans-serif;\n\tfont-size: .8em;\n\tcolor: #666666;\n\tline-height: 30px;\n\tborder-bottom: 3px solid #ccc;\n}\n\n.navbar-bg {\n\ttext-align: right;}\n\n.navbar-bg ul {\n\tlist-style: none;\n\tmargin: 0px;\n\tpadding: 0px;\n}\n\n\nli {\n\tlist-style-type: none;\n\tdisplay: inline;\n\tpadding: 0px 5px 0px 0px;\n}\n\n\nli a {\n\ttext-decoration: none;\n\tpadding: 10px;\n\tcolor: #666666;\n\tfont-weight: bold;\n}\n\nli a:visited {\n\ttext-decoration: none;\n\tpadding: 10px;\n\tcolor: #666666;\n\tfont-weight: bold;\n}\n\nli a:hover\r{\r\n \tcolor: #999999;\n\ttext-decoration: none;\r}\n\n\nli.current-page a\r{\r\t color: #66ABC5;\n\ttext-decoration: none;\r}\n", "current-page-GUID": "389E46D9-E3B4-400C-98D2-EEBA4C967A40", "isCollectionPage": "NO"});
//--><!]]></script>
          <div style="clear: both; height: 0px; line-height: 0px; " class="spacer">&nbsp;</div>
        </div>
        <div style="height: 75px; margin-left: 0px; position: relative; width: 700px; z-index: 10; " id="header_layer">
          <div style="height: 0px; line-height: 0px; " class="bumper">&nbsp;</div>
          <div id="id1" style="height: 43px; left: 20px; position: absolute; top: 20px; width: 658px; z-index: 1; " class="style_SkipStroke shape-with-text">
            <div class="text-content Normal_External_658_43" style="padding: 0px; ">
              <div class="Normal">
                <p style="padding-bottom: 0pt; padding-top: 0pt; " class="paragraph_style">APPLE1 REPLICA1 OR CFFA1 AND FORTH +</p>
              </div>
            </div>
          </div>
        </div>
        <div style="margin-left: 0px; position: relative; width: 700px; z-index: 5; " id="body_layer">
          <div style="height: 0px; line-height: 0px; " class="bumper">&nbsp;</div>
          <div id="id2" style="height: 20px; left: 20px; position: absolute; top: 12px; width: 515px; z-index: 1; " class="style_SkipStroke_1 shape-with-text">
            <div class="text-content Normal_External_515_20" style="padding: 0px; ">
              <div class="Normal">
                <p style="padding-bottom: 0pt; padding-top: 0pt; " class="Title">BACk AND Forth...</p>
              </div>
            </div>
          </div>
          


          <div id="id4" style="height: 1745px; left: 20px; position: absolute; top: 45px; width: 660px; z-index: 1; " class="style_SkipStroke_3 shape-with-text">
            <div class="text-content graphic_textbox_layout_style_default_External_660_1745" style="padding: 0px; ">
              <div class="graphic_textbox_layout_style_default">
                <p class="Free_Form">Originally, the Apple I didn’t have
 any storage option and only 8K of RAM.&nbsp; Woz eventually built a 
very clever cassette interface for saving and loading programs, but the 
Apple I was soon abandoned for the development of the groundbreaking 
Apple II.&nbsp; 30 years later, the Apple I has become a bit of a cult 
computer, and replicas and clones have cropped up over the years.&nbsp; 
Vince Briel’s Replica 1 simplified the design using some modern 
micro-controllers and extended it’s I/O somewhat.&nbsp; Rich Dreher 
brought his successful Apple II Compact Flash interface to the Apple I, 
enhancing the Apple I’s RAM memory with an additional 32K and providing a
 rudimentary ProDOS compatible filesystem.&nbsp; This set the foundation
 for a full port of Forth to the Apple I and CFFA1.<br></p>
                <p class="Free_Form"><br></p>
                <p class="Free_Form">Forth is to BASIC what HP 
calculators are to TI calculators.&nbsp; Forth uses postfix notation to 
represent it’s order of operations (go back and review this page’s 
title).&nbsp; Using two stacks, one for parameters and one for return 
and loop values, it can represent complex algorithms quite 
efficiently.&nbsp; Its terse and obscure syntax has also given it the 
moniker “a write-only language.”&nbsp; However, Forth provides a 
powerful programming environment including runtime, compiler, editor, 
assembler, and disk I/O all in less than 10K of memory.&nbsp; It also 
executes as a fairly fast indirect threaded interpreter.&nbsp; Some 
parts of the Forth package are not required to be resident at all 
times.&nbsp; The editor and assembler can be loaded only when needed, 
saving precious bytes.<br></p>
                <p class="Free_Form"><br></p>
                <p class="Free_Form">Since Forth was meant to be 
portable, getting it running on the Apple I was rather easy.&nbsp; The 
biggest challenge was mapping the Forth style block I/O to the file 
handling API of the CFFA1.&nbsp; I decided to map every Forth 1K disk 
block to a separate ProDOS filename: BLOCK0001 would be block #1 to 
Forth.&nbsp; Trust me, there were reasons to do so.&nbsp; Forth was now 
running on the Apple I/CFFA1 and reading and writing disk blocks.&nbsp; 
Unfortunately, the editor and assembler source had been lost over the 
years.&nbsp; Luckily, the Forth Interest Group (FIG) that wrote the 
original figForth has all of their Forth Dimension journals scanned and 
online on their website: <a title="http://home.earthlink.net/~dschmenk" href="http://home.earthlink.net/~dschmenk">http://www.forth.org/fd/contents.html</a>.&nbsp;
 I typed in the editor (actually a polyForth compatible editor - more on
 that in just a sec) and the FORTH-65 assembler from the listings.&nbsp;
 All of the pieces were now in place to return to yesteryear and learn 
Forth, just like it was 1976.<br></p>
                <p class="Free_Form"><br></p>
                <p class="Free_Form">Probably the best know primer for 
Forth is “Starting Forth”, by Leo Brodie.&nbsp; Although out of print, 
it lives on in the internetz: <a title="http://www.forth.com/starting-forth/" href="http://www.forth.com/starting-forth/">http://www.forth.com/starting-forth/</a>.&nbsp;
 This would be the recommended place to begin learning about 
Forth.&nbsp; “Starting Forth” uses a version of Forth called polyForth 
which is slightly different than the figForth version running on the 
Apple I.&nbsp; To understand the differences, review the figForth 
glossary available in the FIG <a title="http://www.forth.org/fig-forth/figdoc.zip" href="http://www.forth.org/fig-forth/figdoc.zip">Installation Manual and Glossary</a>.&nbsp; The editor included clones the editor included in polyForth.&nbsp; It is described in Forth Dimension: <a title="http://www.forth.org/fd/FD-V03N3.pdf" href="http://www.forth.org/fd/FD-V03N3.pdf">Volume 3, Number 3 , page 80</a>.&nbsp; The FORTH-65 assembler is described in Forth Dimension: <a title="http://www.forth.org/fd/FD-V03N5.pdf" href="http://www.forth.org/fd/FD-V03N5.pdf">Volume 3, Number 5, page 143</a>.<br></p>
                <p class="Free_Form"><br></p>
                <p class="Free_Form">To get started, enter the CFFA1 
menu with a 9000R.&nbsp; Change the prefix to FORTH, and load the binary
 file F1 at it’s default address of $0270.&nbsp; Quit the menu and start
 Forth with a 270R.&nbsp; $0270 was a compromise load address that 
leaves plenty of room for the keyboard input buffer and satisfies 
certain alignment constraints required by the 6502.<br></p>
                <p class="Free_Form"><br></p>
                <p class="Free_Form">Forth leaves many details of system
 usage up to the programmer.&nbsp; Data types are whatever the program 
wants.&nbsp; Likewise, data stored in disk blocks are free-form and has 
no file system, per se.&nbsp; Loading programs requires knowing what 
disk block, or screen as it is known in Forth parlance.&nbsp; The editor
 code resides at block 200 so load it by typing:<br></p>
                <p class="Free_Form"><br></p>
                <p class="Free_Form">200 LOAD<br></p>
                <p class="Free_Form"><br></p>
                <p class="Free_Form">You will see the following message during loading:<br></p>
                <p class="Free_Form"><br></p>
                <p class="Free_Form">I ERROR 4: THIS IS AN EXISTING DICTIONAR<br></p>
                <p class="Free_Form">Y ENTRY. R ERROR 4: THIS IS AN EXISTING<br></p>
                <p class="Free_Form">DICTIONARY ENTRY. OK<br></p>
                <p class="Free_Form"><br></p>
                <p class="Free_Form">The messages are just warnings and 
don’t affect the functionality of the editor.&nbsp; The Apple I screen 
is only 40 characters wide, which is why it looks funny above.<br></p>
                <p class="Free_Form"><br></p>
                <p class="Free_Form">The assembler is loaded from block 80.<br></p>
                <p class="Free_Form"><br></p>
                <p class="Free_Form">80 LOAD<br></p>
                <p class="Free_Form"><br></p>
                <p class="Free_Form">INDEX ERROR 4: THIS IS AN EXISTING DICTI<br></p>
                <p class="Free_Form">ONARY ENTRY. # ERROR 4: THIS IS AN EXIST<br></p>
                <p class="Free_Form">ING DICTIONARY ENTRY. 0= ERROR 4: THIS I<br></p>
                <p class="Free_Form">S AN EXISTING DICTIONARY ENTRY. 0&lt; ERROR<br></p>
                <p class="Free_Form"> 4: THIS IS AN EXISTING DICTIONARY ENTRY<br></p>
                <p class="Free_Form">. OK<br></p>
                <p class="Free_Form"><br></p>
                <p class="Free_Form">Again, these are warnings.&nbsp; I 
haven’t tried assembling anything as the assembler is quite different 
than anything you’ve used before.&nbsp; Remember, this is Forth, so the 
opcodes and operands are in postfix.&nbsp; It is fully documented in the
 Forth Dimension issue <a title="http://www.forth.org/fd/FD-V03N5.pdf" href="http://www.forth.org/fd/FD-V03N5.pdf">Volume 3, Number 5, page 143</a>.<br></p>
                <p class="Free_Form"><br></p>
                <p class="Free_Form">Blocks 0-3 are used as a directory of programs.<br></p>
                <p class="Free_Form"><br></p>
                <p class="Free_Form">0 LIST<br></p>
                <p class="Free_Form"><br></p>
                <p class="Free_Form">will provide a list of programs and
 their blocks.&nbsp; Use the editor to extend the listing.&nbsp; Anyone 
remember using the tape counter when loading and saving programs to/from
 cassette?&nbsp; Yeah, it’s just like that.<br></p>
                <p class="Free_Form"><br></p>
                <p class="Free_Form">The Apple I doesn’t really have a 
monitor routine that you can easily call into and return from.&nbsp; So,
 as a replacement for MON, I added a command called MENU which sends you
 to the CFFA1 menu.&nbsp; Quit the menu to return back to Forth.<br></p>
                <p class="Free_Form"><br></p>
                <p class="Free_Form">The only other enhancement I made 
was the line input routine.&nbsp; The Apple I doesn’t have any character
 positioning control, not even backspace.&nbsp; In order to know where 
you are in a line when backspacing, I print a ‘\’ and the character just
 backspaced over.&nbsp; You can follow along and figure out where the 
internal cursor is.&nbsp; The ESCAPE key cancels the entire line.&nbsp; 
Many Apple I/Replica1 owners use a serial or USB interface that 
transparently hooks into the 6821 and intercepts the keyboard and screen
 I/O.&nbsp; The backspace key will actually backspace over the character
 - just be sure to enable “destructive backspace” in your terminal 
emulation program.<br></p>
                <p class="Free_Form"><br></p>
                <p class="Free_Form">The last thing you need is the archive to install on the CF card.&nbsp; <a title="http://schmenk.is-a-geek.com/tarfiles/FORTH1-1.1.shk" href="http://schmenk.is-a-geek.com/tarfiles/FORTH1-1.1.shk">Here is the ShrinkIt archive</a>
 (you will probably need to right click and ‘Save linked file 
as...’).&nbsp; Enjoy the return to yesteryear and relish the simplicity 
and elegance that is Forth.<br></p>
                <p class="Free_Form"><br></p>
                <p class="paragraph_style_1">Version 1.1<span class="style"><br></span></p>
                <p class="paragraph_style_1"><span class="style">I fixed
 the error when loading a screen that doesn’t yet have a corresponding 
block file.&nbsp; It now clears out the screen and continues on.&nbsp; 
The block file will be created if the screen is altered.<br></span></p>
                <p class="paragraph_style_1"><br></p>
                <p class="paragraph_style_1">Version 1.2<span class="style"><br></span></p>
                <p class="paragraph_style_1"><span class="style">Removed
 some of the opening text to save some bytes and clean it up.&nbsp; Load
 address is now $0240 making more bytes available.&nbsp; Also, moved the
 directory screen to block 1 from block 0.&nbsp; figForth initializes 
the block number to 0, so if the first thing you do is type ‘0 LOAD’ you
 would get nothing.&nbsp; Block 0 is now reserved and shouldn’t be used.<br></span></p>
                <p class="paragraph_style_1"><br></p>
                <p class="Free_Form"><span class="style_1">Forth links:<br></span></p>
                <p class="Free_Form">Apple I/Replica1 Forth ShrinkIt archive: <a title="http://schmenk.is-a-geek.com/tarfiles/FORTH1-1.2.shk" href="http://schmenk.is-a-geek.com/tarfiles/FORTH1-1.2.shk">FORTH1-1.2.shk</a><br></p>
                <p class="Free_Form">What is Forth? <a title="http://www.angelfire.com/in/zydenbos/WhatisForth.html" href="http://www.angelfire.com/in/zydenbos/WhatisForth.html">http://www.angelfire.com/in/zydenbos/WhatisForth.html</a><br></p>
                <p class="Free_Form">Starting Forth: <a title="http://www.forth.com/starting-forth/" href="http://www.forth.com/starting-forth/">http://www.forth.com/starting-forth/</a><br></p>
                <p class="Free_Form">Thinking Forth: <a title="http://thinking-forth.sourceforge.net" href="http://thinking-forth.sourceforge.net/">http://thinking-forth.sourceforge.net/</a><br></p>
                <p class="Free_Form">Forth Interest Group (FIG): <a title="http://www.forth.org" href="http://www.forth.org/">http://www.forth.org</a><br></p>
                <p class="Free_Form">Forth Inc.: <a title="http://www.forth.com" href="http://www.forth.com/">http://www.forth.com/</a><br></p>
                <p class="Free_Form">Forth Dimension scans: <a title="http://home.earthlink.net/~dschmenk" href="http://home.earthlink.net/~dschmenk">http://www.forth.org/fd/contents.html</a><br></p>
                <p class="Free_Form">FIG Installation Manual and Glossary: <a title="http://www.forth.org/fig-forth/figdoc.zip" href="http://www.forth.org/fig-forth/figdoc.zip">http://www.forth.org/fig-forth/figdoc.zip</a><br></p>
                <p class="Free_Form">Green Arrays, Inc.: <a title="http://GreenArrayChips.com" href="http://greenarraychips.com/">http://GreenArrayChips.com</a><br></p>
                <p class="Free_Form">John B. Matthews ProForth pages: <a title="http://home.roadrunner.com/~jbmatthews/a2/proforth.html" href="http://home.roadrunner.com/~jbmatthews/a2/proforth.html">http://home.roadrunner.com/~jbmatthews/a2/proforth.html</a><br></p>
                <p class="Free_Form"><br></p>
                <p class="Free_Form"><br></p>
                <p class="Free_Form"><br></p>
              </div>
              <div style="clear: both; height: 0px; line-height: 0px; " class="tinyText">&nbsp;</div>
            </div>
          </div>
          <div style="height: 1790px; line-height: 1790px; " class="spacer">&nbsp;</div>
        </div>
        <div style="height: 75px; margin-left: 0px; position: relative; width: 700px; z-index: 15; " id="footer_layer">
          <div style="height: 0px; line-height: 0px; " class="bumper">&nbsp;</div>
        </div>
      </div>
    </div>
  



<div class="memex-ribbon-sidebar-container" id="memex-ribbon-sidebar-container"></div><div id="memex-direct-linking-tooltip"><div class="memex-tooltip-container"></div></div></body></html>